<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>7&nbsp; La exploraci√≥n de los datos mediante gr√°ficos. ‚Äì Notas para el master de queser√≠a</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./050-estad-simple.html" rel="next">
<link href="./030-organizacion.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-364982630eef5352dd1537128a8ed5cb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la b√∫squeda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./040-exploracion.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">La exploraci√≥n de los datos mediante gr√°ficos.</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Buscar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Notas para el master de queser√≠a</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introducci√≥n general</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./001-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">La estad√≠stica en el entorno industrial.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./005-herramientas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Herramientas para el an√°lisis. La reproducibilidad.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./010-introduccion-a-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Introducci√≥n a Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./020-intro-colab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Trabajando con Google Colaborate</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./030-organizacion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">La organizaci√≥n de los datos y el flujo de trabajo.Los datos ordenados o <em>arreglados</em> (<em>tidy data</em>)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./040-exploracion.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">La exploraci√≥n de los datos mediante gr√°ficos.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./050-estad-simple.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Medidas centrales y medidas de dispersi√≥n: la media y la varianza.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./060-forma-de-los-datos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">La forma de los datos</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./070-relacion-xy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">La relaci√≥n entre las variables</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./080-comunicacion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">La comunicaci√≥n de los resultados</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./120-control-proc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">El control estad√≠stico de procesos</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./130-sistema-medicion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">El an√°lisis del sistema de medici√≥n</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./140-mejora-procesos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title"><em>Six Sigma</em> y la mejora de los procesos.</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Anexos</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Alternar secci√≥n">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./160-bibliografia.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bibliograf√≠a</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#explorando-los-datos" id="toc-explorando-los-datos" class="nav-link active" data-scroll-target="#explorando-los-datos"><span class="header-section-number">7.1</span> Explorando los datos</a>
  <ul class="collapse">
  <li><a href="#el-diagrama-de-tallo-y-hojas-stem-and-leaf-plot-o-stemplot" id="toc-el-diagrama-de-tallo-y-hojas-stem-and-leaf-plot-o-stemplot" class="nav-link" data-scroll-target="#el-diagrama-de-tallo-y-hojas-stem-and-leaf-plot-o-stemplot">El diagrama de tallo y hojas (<em>stem and leaf plot</em> o <em>stemplot</em>)</a></li>
  <li><a href="#interpretaci√≥n-del-diagrama-de-tallo-y-hojas" id="toc-interpretaci√≥n-del-diagrama-de-tallo-y-hojas" class="nav-link" data-scroll-target="#interpretaci√≥n-del-diagrama-de-tallo-y-hojas">Interpretaci√≥n del diagrama de tallo y hojas</a></li>
  <li><a href="#resumen" id="toc-resumen" class="nav-link" data-scroll-target="#resumen">Resumen</a></li>
  </ul></li>
  <li><a href="#distribuciones-de-frecuencias" id="toc-distribuciones-de-frecuencias" class="nav-link" data-scroll-target="#distribuciones-de-frecuencias"><span class="header-section-number">7.2</span> Distribuciones de frecuencias</a>
  <ul class="collapse">
  <li><a href="#construcci√≥n-en-excel" id="toc-construcci√≥n-en-excel" class="nav-link" data-scroll-target="#construcci√≥n-en-excel">Construcci√≥n en Excel</a></li>
  </ul></li>
  <li><a href="#instrucciones-paso-a-paso-en-excel" id="toc-instrucciones-paso-a-paso-en-excel" class="nav-link" data-scroll-target="#instrucciones-paso-a-paso-en-excel"><span class="header-section-number">7.3</span> Instrucciones paso a paso en Excel</a></li>
  <li><a href="#ejercicio-propuesto" id="toc-ejercicio-propuesto" class="nav-link" data-scroll-target="#ejercicio-propuesto"><span class="header-section-number">7.4</span> Ejercicio propuesto</a></li>
  <li><a href="#diagrama-de-barras" id="toc-diagrama-de-barras" class="nav-link" data-scroll-target="#diagrama-de-barras"><span class="header-section-number">7.5</span> Diagrama de barras</a></li>
  <li><a href="#histograma" id="toc-histograma" class="nav-link" data-scroll-target="#histograma"><span class="header-section-number">7.6</span> Histograma</a>
  <ul class="collapse">
  <li><a href="#construcci√≥n-de-un-histograma-en-excel" id="toc-construcci√≥n-de-un-histograma-en-excel" class="nav-link" data-scroll-target="#construcci√≥n-de-un-histograma-en-excel">Construcci√≥n de un histograma en Excel</a></li>
  <li><a href="#an√°lisis-de-un-caso-real" id="toc-an√°lisis-de-un-caso-real" class="nav-link" data-scroll-target="#an√°lisis-de-un-caso-real">An√°lisis de un caso real</a></li>
  <li><a href="#otros-ejemplos" id="toc-otros-ejemplos" class="nav-link" data-scroll-target="#otros-ejemplos">Otros ejemplos</a></li>
  </ul></li>
  <li><a href="#gr√°ficos-de-densidad" id="toc-gr√°ficos-de-densidad" class="nav-link" data-scroll-target="#gr√°ficos-de-densidad"><span class="header-section-number">7.7</span> Gr√°ficos de densidad</a></li>
  <li><a href="#diagrama-de-caja-o-boxplot" id="toc-diagrama-de-caja-o-boxplot" class="nav-link" data-scroll-target="#diagrama-de-caja-o-boxplot"><span class="header-section-number">7.8</span> Diagrama de caja o <em>boxplot</em></a>
  <ul class="collapse">
  <li><a href="#relaci√≥n-entre-el-boxplot-y-el-histograma" id="toc-relaci√≥n-entre-el-boxplot-y-el-histograma" class="nav-link" data-scroll-target="#relaci√≥n-entre-el-boxplot-y-el-histograma">Relaci√≥n entre el <em>boxplot</em> y el histograma</a></li>
  </ul></li>
  <li><a href="#gr√°ficos-de-dispersi√≥n" id="toc-gr√°ficos-de-dispersi√≥n" class="nav-link" data-scroll-target="#gr√°ficos-de-dispersi√≥n"><span class="header-section-number">7.9</span> Gr√°ficos de dispersi√≥n</a></li>
  <li><a href="#gr√°ficos-de-series-temporales" id="toc-gr√°ficos-de-series-temporales" class="nav-link" data-scroll-target="#gr√°ficos-de-series-temporales"><span class="header-section-number">7.10</span> Gr√°ficos de series temporales</a></li>
  <li><a href="#ejemplos-de-series-temporales" id="toc-ejemplos-de-series-temporales" class="nav-link" data-scroll-target="#ejemplos-de-series-temporales"><span class="header-section-number">7.11</span> Ejemplos de series temporales</a></li>
  <li><a href="#algunos-ejemplos" id="toc-algunos-ejemplos" class="nav-link" data-scroll-target="#algunos-ejemplos"><span class="header-section-number">7.12</span> Algunos ejemplos</a>
  <ul class="collapse">
  <li><a href="#c√≥mo-hacer-los-gr√°ficos-de-series-temporales-en-excel-y-en-r" id="toc-c√≥mo-hacer-los-gr√°ficos-de-series-temporales-en-excel-y-en-r" class="nav-link" data-scroll-target="#c√≥mo-hacer-los-gr√°ficos-de-series-temporales-en-excel-y-en-r">C√≥mo hacer los gr√°ficos de series temporales en Excel y en R</a></li>
  <li><a href="#resumen-1" id="toc-resumen-1" class="nav-link" data-scroll-target="#resumen-1">Resumen</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">La exploraci√≥n de los datos mediante gr√°ficos.</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>En este cap√≠tulo estudiaremos c√≥mo describir conjuntos de datos de forma visual, utilizando varios tipos de gr√°ficos distintos:</p>
<ul>
<li><em>Stemplot</em></li>
<li>Histograma</li>
<li>Diagrama de caja o <em>boxplot</em></li>
<li>Gr√°fico de dispersi√≥n</li>
<li>Gr√°fico de series temporales</li>
</ul>
<p>Veremos la relaci√≥n visual entre un histograma y un diagrama de caja, y aprenderemos tambi√©n a construir tablas de frecuencias en Excel y en <code>Python</code>. Finalmente, veremos algunos otros tipos de gr√°ficos que son √∫tiles para aplicaciones concretas, como los gr√°ficos de densidad.</p>
<p>Utilizaremos dos grupos de datos,</p>
<p>- las alturas de un grupo de alumnos y alumnas, recogidos en un fichero CSV denominado `aula1.csv`,</p>
<p>- los datos anal√≠ticos de una fabricaci√≥n de camembert a lo largo de un a√±o, recogidos en un fichero CSV denominado `camembert.csv`</p>
<section id="explorando-los-datos" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="explorando-los-datos"><span class="header-section-number">7.1</span> Explorando los datos</h2>
<section id="el-diagrama-de-tallo-y-hojas-stem-and-leaf-plot-o-stemplot" class="level3">
<h3 class="anchored" data-anchor-id="el-diagrama-de-tallo-y-hojas-stem-and-leaf-plot-o-stemplot">El diagrama de tallo y hojas (<em>stem and leaf plot</em> o <em>stemplot</em>)</h3>
<p>El diagrama de tallo y hojas, tambi√©n conocido como <em>stemplot</em>, es una herramienta gr√°fica utilizada en estad√≠stica para representar la distribuci√≥n de un conjunto de datos. Es especialmente √∫til para conjuntos de datos peque√±os y proporciona una forma r√°pida y efectiva de visualizar la forma de los datos y su dispersi√≥n. El <em>stemplot</em> recibe este nombre porque el dibujo que resulta se asemeja a un tallo el que le salen las hojas que son los datos individuales.</p>
<p>Los componentes de un <em>stemplot</em> son:</p>
<ul>
<li><p><strong>Tallo</strong>: Representa el grupo principal de los valores de los datos. Generalmente, se usa la parte m√°s significativa del n√∫mero. Por ejemplo, en el n√∫mero 43, el tallo podr√≠a ser 4.</p></li>
<li><p><strong>Hojas</strong>: Representan los d√≠gitos finales o menos significativos de los valores de los datos. Siguiendo el ejemplo anterior, la hoja ser√≠a 3.</p></li>
</ul>
<section id="construcci√≥n-del-diagrama-en-la-hoja-de-c√°lculo" class="level4">
<h4 class="anchored" data-anchor-id="construcci√≥n-del-diagrama-en-la-hoja-de-c√°lculo">Construcci√≥n del diagrama en la hoja de c√°lculo</h4>
<p>Supongamos que queremos medir la altura de un grupo de alumnos de nuestra clase. √âste es nuestro grupo:</p>
<p><img src="01-imagenes/grupo1.jpg" class="img-fluid"></p>
<p>Realizamos la medida de altura de cada persona y registramos los valores en una hoja de c√°lculo, siguiendo las buenas pr√°cticas que hemos visto al estudiar los <em>datos ordenados</em>.</p>
<p><img src="01-imagenes/aula1.png" class="img-fluid"></p>
<p>Vamos a utilizar los datos de medidas de altura de nuestro grupo de alumnos. Quitamos el √∫ltimo d√≠gito a la derecha de nuestros valores y colocamos verticalmente los valores resultantes orden√°ndolos de menor a mayor, y evitando las repeticiones. Para evitar errores en la escala, debemos incluir los valores intermedios aunque no haya ninguno en nuestros datos (en el ejemplo, el valor 16 que corresponder√≠a a los 160). Esto forma el ‚Äútallo‚Äù de nuestro diagrama:</p>
<p><img src="01-imagenes/aula1-stemplot-paso1.png" class="img-fluid"></p>
<p>A continuaci√≥n a√±adimos las ‚Äúhojas‚Äù en la celda a la derecha, que consisten en los valores que hemos ‚Äúcortado‚Äù de nuestro √°rbol, uno al lado de otro, incluyendo esta vez los valores repetidos, en orden de menor a mayor. Por ejemplo, para el valor 135, descartamos 13 y utlizamos 5; para el valor 138, descartamos 13 y utilizamos 8, y as√≠ sucesivamente para todos los valores.</p>
<p><img src="01-imagenes/aula1-stemplot-paso2.png" class="img-fluid"></p>
</section>
</section>
<section id="interpretaci√≥n-del-diagrama-de-tallo-y-hojas" class="level3">
<h3 class="anchored" data-anchor-id="interpretaci√≥n-del-diagrama-de-tallo-y-hojas">Interpretaci√≥n del diagrama de tallo y hojas</h3>
<ul>
<li><strong>Tallo</strong>: Los n√∫meros a la izquierda del s√≠mbolo <code>|</code> representan los valores base (o tallos), en este caso, las decenas de las alturas.</li>
<li><strong>Hojas</strong>: Los n√∫meros a la derecha del s√≠mbolo <code>|</code> representan los d√≠gitos adicionales (o hojas). Por ejemplo, en la l√≠nea <code>13 | 58</code>, el tallo es <code>13</code> (130), y las hojas son <code>5</code> y <code>8</code>, que corresponden a los datos <code>135</code> y <code>138</code>.</li>
</ul>
<p>El diagrama nos dice que los valores en torno a 150 cm son los m√°s frecuentes, y que hay un valor alto (175) que se separa un poco del resto.</p>
</section>
<section id="resumen" class="level3">
<h3 class="anchored" data-anchor-id="resumen">Resumen</h3>
<p>El <em>stemplot</em> es muy sencillo de hacer y nos da una visi√≥n r√°pida y compacta de la <em>distribuci√≥n</em> de nuestros valores, as√≠ como de la posible existencia de valores que se separan del conjunto. Estos valores alejados, que se conocen en ingl√©s como <em>outliers</em>, tienen mucha importancia en el analisis e interpretaci√≥n de los datos, como veremos m√°s adelante.</p>
<p>La ventaja principal del <em>stemplot</em> es que mantiene los valores originales de las observaciones, y puede hacerse f√°cilmente con bol√≠grafo y papel, sin necesidad de m√°s herramientas.</p>
<p>Su principal inconveniente es la elaboraci√≥n manual (aunque lenguajes como R tienen funciones que lo contruyen de forma autom√°tica), y por lo tanto, la dificultad de aplicarlo a volumenes de datos medios o grandes. El uso generalizado de los ordenadores ha hecho que actualmente esta herramienta tenga muy poco uso, y se utilicen en su lugar otras m√°s gr√°ficas y de construcci√≥n autom√°tica, como el <strong>histograma</strong>.</p>
</section>
</section>
<section id="distribuciones-de-frecuencias" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="distribuciones-de-frecuencias"><span class="header-section-number">7.2</span> Distribuciones de frecuencias</h2>
<p>Una <strong>distribuci√≥n de frecuencias</strong> es una tabla que muestra la frecuencia con la que ocurren los valores diferentes en un conjunto de datos. Esta herramienta es fundamental en la estad√≠stica descriptiva y permite resumir y visualizar c√≥mo se distribuyen los datos de manera clara y comprensible. A partir de una tabla de frecuencias se pueden construir diagramas de barra o histogramas para visualizar la tabla de forma gr√°fica.</p>
<p>Para construir una distribuci√≥n de frecuencias, agrupamos nuestros valores por intervalos, y contamos el n√∫mero de observaciones que aparecen en cada intervalo. Los componentes de una distribuci√≥n de frecuencias son:</p>
<ul>
<li>las <strong>categor√≠as o clases</strong> son los intervalos o valores espec√≠ficos de los datos que se est√°n analizando. Cada categor√≠a representa un rango de valores en caso de datos continuos, o valores espec√≠ficos en caso de datos discretos.</li>
<li>la <strong>frecuencia absoluta</strong> es un <em>recuento simple</em> de cu√°ntas veces aparece cada valor en un conjunto de datos.</li>
<li>la <strong>frecuencia relativa</strong> nos muestra la <em>proporci√≥n</em> de cada valor frente al total. Puede expresarse como fracci√≥n (entre 0 y 1) o como porcentaje (respecto a 100), y se calcula como: <span class="math display">\[
\text{Frecuencia Relativa} = \frac{\text{Frecuencia Absoluta}}{\text{N√∫mero Total de Observaciones}}
\]</span></li>
<li>la <strong>frecuencia acumulada</strong> nos dice cu√°ntas observaciones est√°n por debajo de un cierto valor.</li>
<li>la <strong>frecuencia relativa acumulada</strong> es la proporci√≥n de valores que est√°n por debajo de un cierto valor</li>
</ul>
<section id="construcci√≥n-en-excel" class="level3">
<h3 class="anchored" data-anchor-id="construcci√≥n-en-excel">Construcci√≥n en Excel</h3>
<p>La tabla a continuaci√≥n muestra una distribuci√≥n de frecuencias de las alturas de nuestro grupo de alumnos, calculada mediante una tabla din√°mica de Excel.</p>
</section>
</section>
<section id="instrucciones-paso-a-paso-en-excel" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="instrucciones-paso-a-paso-en-excel"><span class="header-section-number">7.3</span> Instrucciones paso a paso en Excel</h2>
<p>Para crear una tabla de frecuencias de la variable <code>altura_cm</code> mediante tablas din√°micas en Excel, sigue estos pasos:</p>
<p><strong>1. Selecciona los Datos</strong></p>
<ol type="1">
<li>Abre tu archivo de Excel y selecciona toda la tabla que incluye los encabezados (<code>nombre</code> y <code>altura_cm</code>).</li>
</ol>
<p><strong>2. Inserta una tabla din√°mica</strong></p>
<ol type="1">
<li>Ve a la pesta√±a <strong>Insertar</strong> en la barra de herramientas de Excel.</li>
<li>Haz clic en <strong>Tabla Din√°mica</strong>.</li>
<li>En el cuadro de di√°logo que aparece, aseg√∫rate de que el rango de datos seleccionado es correcto y elige d√≥nde deseas colocar la tabla din√°mica (en una nueva hoja de c√°lculo o en la hoja actual).</li>
</ol>
<p><strong>3. A√±ade la frecuencia absoluta</strong></p>
<ol type="1">
<li>En el panel de campos de la tabla din√°mica, arrastra el campo <code>altura_cm</code> a la secci√≥n <strong>Filas</strong>.</li>
<li>Arrastra nuevamente el campo <code>altura_cm</code> a la secci√≥n <strong>Valores</strong>.</li>
</ol>
<p><strong>4. Ajusta la configuraci√≥n de valores</strong></p>
<ol type="1">
<li>Haz clic en el campo <code>altura_cm</code> en la secci√≥n <strong>Valores</strong>.</li>
<li>Selecciona <strong>Configuraci√≥n de campo de valor</strong>.</li>
<li>En el cuadro de di√°logo que aparece, aseg√∫rate de que est√© seleccionada la opci√≥n <strong>Recuento</strong></li>
<li>Acepta todo hasta volver a Excel.</li>
</ol>
<p><strong>5. A√±ade la frecuencia relativa</strong></p>
<ol type="1">
<li>En el panel de campos de la tabla din√°mica, arrastra de nuevo el campo <code>altura_cm</code> a la secci√≥n <strong>Valores</strong>. Ahora la variable aparecer√° como <code>altura_cm2</code>.</li>
</ol>
<p><strong>6. Ajusta de nuevo la configuraci√≥n de valores</strong></p>
<ol type="1">
<li>Haz clic en el campo <code>altura_cm2</code> en la secci√≥n <strong>Valores</strong>.</li>
<li>Selecciona <strong>Configuraci√≥n de campo de valor</strong>.</li>
<li>En el cuadro de di√°logo que aparece, aseg√∫rate de que est√© seleccionada la opci√≥n <strong>Recuento</strong>.</li>
<li>En ese mismo cuadro, haz click en el bot√≥n <strong>Formato de n√∫mero</strong>, selecciona <strong>N√∫mero</strong> y <strong>2 decimales</strong>, y acepta.</li>
<li>En ese mismo cuadro, selecciona la pesta√±a que dice <strong>Mostrar valores como</strong></li>
<li>En el men√∫ desplegable, escoge la opci√≥n <strong>% del total de columnas</strong>.</li>
<li>Acepta todo hasta volver a Excel.</li>
</ol>
<p><strong>7. Ordena y formatea</strong></p>
<ol type="1">
<li>Puedes ordenar las alturas en orden ascendente o descendente haciendo clic en la flecha junto a <code>altura_cm</code> en la tabla din√°mica.</li>
<li>Tambi√©n puedes cambiar el formato de la tabla din√°mica para que sea m√°s f√°cil de leer.</li>
<li>Puedes renombrar los encabezados de la tabla para que sea m√°s f√°cil de leer, rotulando las columnas, por ejemplo, como <code>frec_abs</code>y <code>frec_rel</code>, o cualquier otro encabezado que te resulte claro y √∫til.</li>
</ol>
<p><img src="01-imagenes/aula1-td-frec.png" class="img-fluid"></p>
<p>Tambi√©n podemos calcular las frecuencias absolutas de nuestra tabla en <code>Python</code>, de forma bastante sencilla, sin agrupar.</p>
<div id="9c167875" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>altura_cm <span class="op">=</span> [<span class="dv">153</span>,<span class="dv">135</span>,<span class="dv">140</span>,<span class="dv">140</span>,<span class="dv">175</span>,<span class="dv">138</span>,<span class="dv">145</span>,<span class="dv">154</span>,<span class="dv">152</span>,<span class="dv">159</span>,<span class="dv">154</span>]</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>frecuencias <span class="op">=</span> pd.Series(altura_cm).value_counts()</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(frecuencias)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>140    2
154    2
153    1
135    1
175    1
138    1
145    1
152    1
159    1
Name: count, dtype: int64</code></pre>
</div>
</div>
<p>Con un poco m√°s de c√≥digo podemos hacer la tabla agrupando los valores en clases de amplitud 10, con las frecuencias absolutas y relativas. Es un poco m√°s complicado, t√≥mate tu tiempo para entender cada paso de las instrucciones.</p>
<div id="3df16e89" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>altura_cm <span class="op">=</span> [<span class="dv">153</span>,<span class="dv">135</span>,<span class="dv">140</span>,<span class="dv">140</span>,<span class="dv">175</span>,<span class="dv">138</span>,<span class="dv">145</span>,<span class="dv">154</span>,<span class="dv">152</span>,<span class="dv">159</span>,<span class="dv">154</span>]</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>serie <span class="op">=</span> pd.Series(altura_cm)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear intervalos autom√°ticamente con amplitud 10</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>bins <span class="op">=</span> np.arange(<span class="bu">min</span>(altura_cm)<span class="op">//</span><span class="dv">10</span><span class="op">*</span><span class="dv">10</span>, <span class="bu">max</span>(altura_cm)<span class="op">//</span><span class="dv">10</span><span class="op">*</span><span class="dv">10</span> <span class="op">+</span> <span class="dv">20</span>, <span class="dv">10</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Agrupar y contar</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>tabla <span class="op">=</span> pd.cut(serie, bins<span class="op">=</span>bins).value_counts(sort<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir a DataFrame con acumulados y relativos</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> tabla.to_frame(name<span class="op">=</span><span class="st">'Frecuencia'</span>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Frecuencia acumulada'</span>] <span class="op">=</span> df[<span class="st">'Frecuencia'</span>].cumsum()</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Frecuencia relativa (%)'</span>] <span class="op">=</span> (df[<span class="st">'Frecuencia'</span>] <span class="op">/</span> df[<span class="st">'Frecuencia'</span>].<span class="bu">sum</span>() <span class="op">*</span> <span class="dv">100</span>).<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Acumulada (%)'</span>] <span class="op">=</span> df[<span class="st">'Frecuencia relativa (%)'</span>].cumsum()</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            Frecuencia  Frecuencia acumulada  Frecuencia relativa (%)  \
(130, 140]           4                     4                    36.36   
(140, 150]           1                     5                     9.09   
(150, 160]           5                    10                    45.45   
(160, 170]           0                    10                     0.00   
(170, 180]           1                    11                     9.09   

            Acumulada (%)  
(130, 140]          36.36  
(140, 150]          45.45  
(150, 160]          90.90  
(160, 170]          90.90  
(170, 180]          99.99  </code></pre>
</div>
</div>
<p>Vamos a explicar el c√≥digo l√≠nea a l√≠nea.</p>
<hr>
<p>Este script en <code>Python</code> construye una tabla de frecuencias agrupadas a partir de un conjunto de datos num√©ricos (<code>altura_cm</code>), usando <code>pandas</code> y <code>numpy</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Importa las bibliotecas necesarias: - <code>pandas</code>: para manipulaci√≥n tabular. - <code>numpy</code>: para c√°lculos num√©ricos y generaci√≥n de rangos.</p>
<hr>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>altura_cm <span class="op">=</span> [<span class="dv">153</span>,<span class="dv">135</span>,<span class="dv">140</span>,<span class="dv">140</span>,<span class="dv">175</span>,<span class="dv">138</span>,<span class="dv">145</span>,<span class="dv">154</span>,<span class="dv">152</span>,<span class="dv">159</span>,<span class="dv">154</span>]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Define el conjunto de datos como una lista de alturas en cent√≠metros.</p>
<hr>
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>serie <span class="op">=</span> pd.Series(altura_cm)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Convierte la lista en una <code>Series</code> de pandas, lo que permite aplicar funciones estad√≠sticas f√°cilmente.</p>
<hr>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>bins <span class="op">=</span> np.arange(<span class="bu">min</span>(altura_cm)<span class="op">//</span><span class="dv">10</span><span class="op">*</span><span class="dv">10</span>, <span class="bu">max</span>(altura_cm)<span class="op">//</span><span class="dv">10</span><span class="op">*</span><span class="dv">10</span> <span class="op">+</span> <span class="dv">20</span>, <span class="dv">10</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Genera los l√≠mites de clase con amplitud 10: - <code>min(altura_cm)//10*10</code>: redondea hacia abajo el m√≠nimo a la decena m√°s cercana. - <code>max(altura_cm)//10*10 + 20</code>: redondea hacia arriba el m√°ximo y a√±ade 10 extra para incluir el √∫ltimo dato. - <code>np.arange(...)</code>: crea un array de l√≠mites desde el m√≠nimo hasta el m√°ximo, en pasos de 10.</p>
<p>üìå Ejemplo de salida: <code>[130, 140, 150, 160, 170, 180]</code></p>
<hr>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>tabla <span class="op">=</span> pd.cut(serie, bins<span class="op">=</span>bins).value_counts(sort<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Agrupa los datos en los intervalos definidos: - <code>pd.cut(...)</code>: asigna cada dato a un intervalo. - <code>.value_counts(sort=False)</code>: cuenta cu√°ntos datos hay en cada intervalo, sin reordenarlos.</p>
<hr>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> tabla.to_frame(name<span class="op">=</span><span class="st">'Frecuencia'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Convierte la serie de frecuencias en un <code>DataFrame</code> con una columna llamada <code>'Frecuencia'</code>.</p>
<hr>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Frecuencia acumulada'</span>] <span class="op">=</span> df[<span class="st">'Frecuencia'</span>].cumsum()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Calcula la frecuencia acumulada sumando progresivamente los valores de la columna <code>'Frecuencia'</code>.</p>
<hr>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Frecuencia relativa (%)'</span>] <span class="op">=</span> (df[<span class="st">'Frecuencia'</span>] <span class="op">/</span> df[<span class="st">'Frecuencia'</span>].<span class="bu">sum</span>() <span class="op">*</span> <span class="dv">100</span>).<span class="bu">round</span>(<span class="dv">2</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Calcula la frecuencia relativa en porcentaje: - Divide cada frecuencia por el total. - Multiplica por 100. - Redondea a 2 decimales.</p>
<hr>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Acumulada (%)'</span>] <span class="op">=</span> df[<span class="st">'Frecuencia relativa (%)'</span>].cumsum()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Calcula el porcentaje acumulado, √∫til para an√°lisis tipo Pareto.</p>
<hr>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Muestra la tabla final con: - Intervalos - Frecuencia absoluta - Frecuencia acumulada - Frecuencia relativa (%) - Porcentaje acumulado</p>
<hr>
<p>Como ves en el resultado, a veces se utilizan los s√≠mbolos <code>(</code> y <code>[</code> para definir los intervalos, tal como se hace en matem√°ticas.</p>
<ul>
<li>Intervalo <strong>abierto</strong>: El s√≠mbolo <code>(</code> se utiliza para denotar un intervalo abierto. El l√≠mite correspondiente <strong>no</strong> est√° incluuido en el intervalo.</li>
<li>Intervalo <strong>cerrado o semiabierto</strong>:El s√≠mbolo <code>[</code> se utiliza para denotar un intervalo cerrado o semiabierto. EL l√≠mite correspondiente <strong>s√≠</strong> est√° incluido en el intervalo.</li>
</ul>
<p>Ejemplos:</p>
<ul>
<li><span class="math inline">\((a, b)\)</span> representa todos los n√∫meros reales <strong>mayores</strong> que <span class="math inline">\(a\)</span> y <strong>menores</strong> que <span class="math inline">\(b\)</span> (excluye los valores <span class="math inline">\(a\)</span> y <span class="math inline">\(b\)</span>).</li>
<li><span class="math inline">\([a, b]\)</span> representa todos los n√∫meros reales <strong>mayores o iguales</strong> que <span class="math inline">\(a\)</span> y <strong>menores o iguales</strong> que <span class="math inline">\(b\)</span> (incluye <span class="math inline">\(a\)</span> y <span class="math inline">\(b\)</span>).</li>
<li><span class="math inline">\([a, b)\)</span> representa todos los n√∫meros reales <strong>mayores o iguales</strong> que <span class="math inline">\(a\)</span> y <strong>menores</strong> que <span class="math inline">\(b\)</span> (incluye <span class="math inline">\(a\)</span>, pero excluye <span class="math inline">\(b\)</span>)</li>
<li><span class="math inline">\((a, b]\)</span> representa todos los n√∫meros reales <strong>mayores</strong> que <span class="math inline">\(a\)</span> y <strong>menores o iguales</strong> que <span class="math inline">\(b\)</span> (excluye <span class="math inline">\(a\)</span>, pero incluye <span class="math inline">\(b\)</span>). :::</li>
</ul>
<p>Si comparamos los dos m√©todos que hemos utilizado para construir la tabla de frecuencias, vemos que:</p>
<ul>
<li>en Excel los pasos que hemos dado no est√°n registrados y a la vista, y, por lo tanto, no son f√°cilmente revisables</li>
<li>en <code>Python</code>, todos los pasos y opciones que hemos utilizado est√°n a la vista en el c√≥digo del script</li>
</ul>
<p>Si otra persona quisiera modificar la tabla, le ser√≠a f√°cil editar el c√≥digo y relanzar el script, mientras que en Excel no ser√≠a f√°cil asegurarse de todos y cada uno de los pasos y clicks de rat√≥n que hemos dado para construir y formatear la tabla.</p>
<p>Es el caso, por ejemplo, de que envi√°semos la tabla a otra persona y √©sta tuviese que editarla en nuestra ausencia. En Excel, tendr√≠amos que enviar a esa persona una explicaci√≥n con las instrucciones oportunas; en cambio, en <code>Python</code>, una vez que se comprende el c√≥digo, no hacen falta m√°s explicaciones adicionales. Incluso sin una comprensi√≥n total del c√≥digo, se podr√≠a duplicar exactamente la tabla copiando y ejecutando el c√≥digo.</p>
<p>Esta es una de las principales razones de la conveniencia del aprendizaje de <code>Python</code> incluso para las actividades m√°s sencillas.</p>
</section>
<section id="ejercicio-propuesto" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="ejercicio-propuesto"><span class="header-section-number">7.4</span> Ejercicio propuesto</h2>
<p>En la tabla de frecuencias anterior, calcular <strong>frecuencia absoluta acumulada</strong> y <strong>frecuencia relativa acumulada</strong> en Excel, e incluirlas en la tabla como dos columnas adicionales. La <strong>frecuencia relativa acumulada</strong> nos permitir√° crear <strong>diagramas de Pareto</strong>, muy √∫tiles en los procesos de mejora de calidad.</p>
</section>
<section id="diagrama-de-barras" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="diagrama-de-barras"><span class="header-section-number">7.5</span> Diagrama de barras</h2>
<p>Cuando nuestra variable es <em>discreta</em>, podemos representar las frecuencias de cada valor de forma gr√°fica utilizando un diagrama de barras. Este diagrama utiliza barras rectangulares para representar la frecuencia de cada categor√≠a.</p>
<p>Este gr√°fico es muy utilizado para representar, por ejemplo, resultados de encuestas, como el n√∫mero de votos que han obtenido los diferentes partidos pol√≠ticos en unas elecciones, o tablas discretas, como los kilos fabricados por meses en una f√°brica.</p>
<div class="quarto-layout-panel" data-layout="[[40,-20,40],[45,-10,45]]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 40.0%;justify-content: center;">
<p><img src="01-imagenes/2024-12-07-excel-tabla-frec-1.png" class="img-fluid"></p>
</div>
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 20.0%;justify-content: flex-start;">
<p>&nbsp;</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 40.0%;justify-content: center;">
<p><img src="01-imagenes/2024-12-07-excel-tabla-frec-2.png" class="img-fluid"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 45.0%;justify-content: center;">
<p><img src="01-imagenes/barras1.png" class="img-fluid"></p>
</div>
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 10.0%;justify-content: flex-start;">
<p>&nbsp;</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 45.0%;justify-content: center;">
<p><img src="01-imagenes/barras2.png" class="img-fluid"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 45.0%;justify-content: flex-start;">
<p>Ejemplos de diagramas de barras</p>
</div>
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 10.0%;justify-content: flex-start;">
<p>&nbsp;</p>
</div>
</div>
</div>
</section>
<section id="histograma" class="level2" data-number="7.6">
<h2 data-number="7.6" class="anchored" data-anchor-id="histograma"><span class="header-section-number">7.6</span> Histograma</h2>
<p>Para visualizar las variables continuas se utiliza el <strong>histograma</strong>, que es un diagrama que utiliza las barras rectangulares para hacer un gr√°fico de la distribuci√≥n de valores continuos, previamente agrupados en intervalos (<em>bins</em> en ingl√©s), tal como se ha hecho en la tabla de frecuencias.</p>
<section id="componentes-de-un-histograma" class="level4">
<h4 class="anchored" data-anchor-id="componentes-de-un-histograma">Componentes de un histograma</h4>
<ol type="1">
<li><strong>Eje horizontal (X)</strong>: Representa los intervalos de valores de la variable. Cada intervalo abarca un rango espec√≠fico de valores.</li>
<li><strong>Eje vertical (Y)</strong>: Muestra la frecuencia o el n√∫mero de veces que los valores caen dentro de cada intervalo.</li>
<li><strong>Barras</strong>: Cada barra en el histograma representa un intervalo. La altura de la barra indica la frecuencia de los valores dentro de ese intervalo.</li>
</ol>
</section>
<section id="c√≥mo-interpretar-un-histograma" class="level4">
<h4 class="anchored" data-anchor-id="c√≥mo-interpretar-un-histograma">C√≥mo interpretar un histograma</h4>
<ul>
<li>Si las barras son altas en un intervalo espec√≠fico, significa que muchos valores del conjunto de datos caen dentro de ese rango.</li>
<li>Un histograma puede ayudar a identificar patrones, como si los datos est√°n distribuidos de manera sim√©trica, sesgada, o si hay picos y valles significativos.</li>
</ul>
</section>
<section id="construcci√≥n-de-un-histograma-en-excel" class="level3">
<h3 class="anchored" data-anchor-id="construcci√≥n-de-un-histograma-en-excel">Construcci√≥n de un histograma en Excel</h3>
<p>Usaremos el ejemplo de la altura en cm. de un grupo de alumnos, cuyos datos hemos guardado en el fichero csv <code>aula1.csv</code>.</p>
<p>Podemos utilizar dos m√©todos para hacer un histograma en Excel</p>
<section id="m√©todo-1-histograma-directo" class="level4">
<h4 class="anchored" data-anchor-id="m√©todo-1-histograma-directo">M√©todo 1: histograma directo</h4>
<ul>
<li>Seleccionamos el rango de datos. Podemos hacerlo mediante un click en el encabezado de la columna de la variable <code>altura_cm</code>, en este caso, la columna <code>B</code>.</li>
<li>En la opci√≥n de men√∫ <code>Insertar</code>, seleccionamos el icono <code>Seleccionar gr√°ficos de estad√≠stica</code></li>
<li>Seleccionamos <code>Histograma</code></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/excel-histo-aula1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></p>
</figure>
</div>
<p>Excel calcula autom√°ticamente la amplitud de los intervalos y el n√∫mero de columnas; estas opciones pueden modificarse seleccionando con el bot√≥n derecho del rat√≥n el elemento a modificar. En este caso, utilizamos estas opciones:</p>
<ul>
<li>Eliminamos t√≠tulo del gr√°fico</li>
<li>Modificamos anchura de las barras seleccionando <code>Dar formato a serie de datos</code>, <code>Opciones de serie</code>, <code>Ancho del rango</code>= 50%</li>
<li>Modificamos los intervalos seleccionando el eje X: <code>Dar formato al eje</code>, <code>Opciones de eje</code>, <code>Ancho del rango</code> = 10</li>
</ul>
<p>La descripci√≥n de los intervalos utiliza los mismos s√≠mbolos que hemos visto en las tablas de frecuencias de R.</p>
<p>En el momento de escribir este manual, Excel no permite hacer histogramas m√∫ltiples ni agrupados por otra variable, por lo que para dise√±os m√°s complejos, no hay m√°s remedio que recurrir a otras opciones como las tablas din√°micas de Excel o, mejor a√∫n, R.</p>
</section>
<section id="m√©todo-2-utilizar-una-tabla-din√°mica" class="level4">
<h4 class="anchored" data-anchor-id="m√©todo-2-utilizar-una-tabla-din√°mica">M√©todo 2: utilizar una tabla din√°mica</h4>
<p>La tabla din√°mica que hemos construido en Excel ha convertido nuestra variable continua, <code>altura_cm</code>, en una tabla de valores discretos, al agrupar los valores en intervalos. En Excel podemos representar las frecuencias absolutas de nuestra tabla gr√°ficamente, insertando un gr√°fico de barras a partir de la tabla:</p>
<ul>
<li>Con el cursor dentro de la tabla, seleccionamos la opci√≥n de men√∫ <code>Insertar</code></li>
<li>Insertamos un gr√°fico de barras</li>
</ul>
<p>Opcionalmente, aplicamos las siguientes opciones de formato:</p>
<ul>
<li>Hacemos click sobre uno de los botones del gr√°fico din√°mico con el boton derecho del rat√≥n, y seleccionamos la opci√≥n ocultar todos los botones del gr√°fico.</li>
<li>Eliminamos el t√≠tulo del gr√°fico</li>
<li>Abrimos el formato de la serie de datos, e introducimos en la opci√≥n <code>Ancho del rango</code> el valor <span class="math inline">\(50\%\)</span> para ensanchar las barras.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/aula1-diag-barras.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></p>
</figure>
</div>
<p>Al utiizar la tabla din√°mica para construir el gr√°fico, Excel utiliza las categor√≠as de la tabla din√°mica. Dado que estas categor√≠as (los intervalos que ha formado la tabla din√°mica) son discretas, Excel utiliza el resultado de la tabla din√°mica para hacer el gr√°fico con un diagrama de barras. No es posible insertar un histograma a partir de una tabla din√°mica.</p>
</section>
</section>
<section id="an√°lisis-de-un-caso-real" class="level3">
<h3 class="anchored" data-anchor-id="an√°lisis-de-un-caso-real">An√°lisis de un caso real</h3>
<p>El histograma muestra su utilidad cuando representamos la distribuci√≥n de un conjunto de valores m√°s grande que nuestros once alumnos. Veamos su aplicaci√≥n a los datos diarios de una fabricaci√≥n de queso camembert a lo largo de un a√±o.Los datos de esta fabricaci√≥n est√°n en el fichero <code>camembert.csv</code>.</p>
<p>La tabla de datos tiene esta estructura:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/camembert-tabla-datos.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></p>
</figure>
</div>
<p>La tabla est√° formada por 211 casos.</p>
<section id="construcci√≥n-del-histograma-con-excel" class="level4">
<h4 class="anchored" data-anchor-id="construcci√≥n-del-histograma-con-excel">Construcci√≥n del histograma con Excel</h4>
<section id="m√©todo-directo" class="level5">
<h5 class="anchored" data-anchor-id="m√©todo-directo">M√©todo directo</h5>
<p>Seleccionamos el rango del extracto seco (columna <code>est</code>) e insertamos el histograma, ajustando el ancho de intervalo a <span class="math inline">\(1\)</span> en las opciones de gr√°fico:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/excel-histo.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></p>
</figure>
</div>
</section>
<section id="m√©todo-2-mediante-una-tabla-din√°mica" class="level5">
<h5 class="anchored" data-anchor-id="m√©todo-2-mediante-una-tabla-din√°mica">M√©todo 2: mediante una tabla din√°mica</h5>
<p>Los pasos a seguir son:</p>
<ol type="1">
<li>Construir la tabla din√°mica</li>
<li>Agrupar los datos</li>
<li>Insertar el gr√°fico a partir de la tabla</li>
</ol>
<p>Con una agrupaci√≥n de datos en intervalos de 1, esta es nuestra tabla din√°mica:</p>
<p><img src="01-imagenes/camembert-td.png" class="img-fluid"></p>
<p>En la figura siguiente vemos el histograma correspondiente a la tabla anterior, con un intervalo de clase de 1 punto de extracto seco total, y otras dos alternativas si el intervalo de clase fuese de 2 puntos o de de 0,5 puntos.</p>
<div class="quarto-layout-panel" data-layout="[[1], [1,1]]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/camembert-histo1.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="01-imagenes/camembert-histo2.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="01-imagenes/camembert-histo3.png" class="img-fluid"></p>
</div>
</div>
</div>
<p>La decisi√≥n de cambiar la amplitud del intervalo en un histograma influye en el aspecto del gr√°fico y es una opci√≥n personal; lo mejor es utilizar la que en nuestra opini√≥n refleje mejor el aspecto de la distribuci√≥n de datos, ni demasiado grande ni demasiado peque√±a. En todo caso, debemos ser capaces de interpretar que la distribuci√≥n de los valores es la misma en los tres casos: hay una mayor√≠a de casos con valores entre 46 y 48, y muy pocos casos con valores muy bajos o muy altos. En este caso, la distribuci√≥n de los valores es aproximadamente sim√©trica, y se reparten alrededor de una mayor√≠a de valores centrales.</p>
</section>
</section>
<section id="creaci√≥n-del-histograma-en-python" class="level4">
<h4 class="anchored" data-anchor-id="creaci√≥n-del-histograma-en-python">Creaci√≥n del histograma en <code>Python</code></h4>
<p>Las funciones de histograma de <code>Python</code> permiten construir el histograma directamente sin necesidad de hacer previamente una tabla de frecuencias (en realidad, la tabla de frecuencias se calcula internamente). Es mucho m√°s sencillo utilizar estas funciones, ya que el c√≥digo se simplifica mucho.</p>
<p>Como siempre, presentamos la opci√≥n b√°sica de R junto con la opci√≥n de la funci√≥n <code>ggplot()</code> de <code>tidyverse</code>, y utilizamos las opciones de personalizaci√≥n de <code>ggplot()</code>para trazar un histograma de aspecto semejante al gr√°fico b√°sico; en esta ocasi√≥n, utilizamos el color de relleno gris.</p>
<p>Vemos que los dos gr√°ficos no son id√©nticos a pesar de provenir de los mismos datos, porque la construcci√≥n de los intervalos subyacente es ligeramente diferente. Esto no debe preocuparnos, porque el aspecto general de la distribuci√≥n de los datos es el mismo.</p>
<p>En la fase de exploraci√≥n nos importa m√°s entender estas propiedades de los datos (aspecto, forma de la distribuci√≥n) que la precisi√≥n en la construcci√≥n del gr√°fico. En todo caso, en <code>qqplot()</code>podemos usar infinidad de opciones que nos permiten configurar el gr√°fico hasta los m√°s m√≠nimos detalles, por lo que esta funci√≥n es mucho m√°s √∫til que las funciones b√°sicas para preparar gr√°ficos que vayan destinados a informes o presentaciones. La funci√≥n b√°sica <code>hist()</code>, por su parte, es m√°s sencilla de usar al principio cuando no tenemos todav√≠a experiencia con <code>ggplot()</code>, y tambi√©n para una visualizaci√≥n r√°pida.</p>
</section>
</section>
<section id="otros-ejemplos" class="level3">
<h3 class="anchored" data-anchor-id="otros-ejemplos">Otros ejemplos</h3>
<p>En ocasiones, nos encontramos con datos que son asim√©tricos: hay una mayor√≠a de valores bajos o bien de valores altos. Veamos un caso: los recuentos bacterianos de bacterias coliformes, que tenemos en la √∫ltima columna a la derecha de nuestra tabla, en la variable ¬¥coliformes¬¥.</p>
<p><img src="01-imagenes/camembert-graf-colis.png" class="img-fluid"></p>
<p>En este caso, vemos que la mayor√≠a de los casos tienen valor cero. Es el caso de los recuentos de bacterias contaminantes, en el que la mayor√≠a de los an√°lisis tienen recuentos cero o muy bajos, y s√≥lo en pocos casos tienen valores altos. Veremos con m√°s detalle c√≥mo tratar estas distribuciones cuando hablemos de las distribuciones de probabilidad, en cap√≠tulos posteriores.</p>
<p>En los histogramas de los recuentos bacterianos,utilizamos una opci√≥n para aumentar el n√∫mero de barras que queremos en el histograma: <code>breaks=</code> en la funci√≥n base, <code>bins=</code> en <code>ggplot()</code>:</p>
<p>En casos de distribuciones muy asim√©tricas, a veces es conveniente aplicar una transformaci√≥n a los datos, tal como el logaritmo decimal, mediante la funci√≥n <code>log10()</code>; esto facilita la interpretaci√≥n del gr√°fico:</p>
</section>
</section>
<section id="gr√°ficos-de-densidad" class="level2" data-number="7.7">
<h2 data-number="7.7" class="anchored" data-anchor-id="gr√°ficos-de-densidad"><span class="header-section-number">7.7</span> Gr√°ficos de densidad</h2>
<p>Un gr√°fico de densidad en R es una representaci√≥n visual suavizada de la distribuci√≥n de un conjunto de datos. A diferencia de los histogramas, que dividen los datos en intervalos y cuentan las frecuencias, los gr√°ficos de densidad utilizan t√©cnicas estad√≠sticas no param√©tricas para estimar la funci√≥n de densidad de probabilidad.</p>
<p>Un gr√°fico de densidad, tambi√©n conocido como <em>density plot</em>, es una representaci√≥n visual suavizada de la distribuci√≥n de un conjunto de datos.A diferencia de los histogramas, que dividen los datos en intervalos y cuentan las frecuencias, los gr√°ficos de densidad utilizan t√©cnicas estad√≠sticas no param√©tricas para estimar la funci√≥n de densidad de probabilidad de una variable continua. El gr√°fico de densidad utiliza suavizamiento para proporcionar una estimaci√≥n m√°s continua de la distribuci√≥n de los datos.</p>
<p>Excel no permite la representaci√≥n de los gr√°ficos de densidad; en R pueden hacerse con la funci√≥n <code>ggplot()</code>simplemente a√±adiendo la geometr√≠a <code>geom_density()</code></p>
<p>Podemos representar simult√°neamente el histograma y la funci√≥n de densidad; hay que tener en cuenta que para representar la densidad y el histograma superpuestos, nos vemos obligados a cambiar la escala del eje Y a los valores de densidad en vez de a las frecuencias, de manera que los dos gr√°ficos puedan solaparse sin problemas.</p>
<p>La ventaja de los gr√°ficos de densidad es que como no tenemos que fraccionar los datos en intervalos arbitrarios, no estamos afectados por el efecto visual de la anchura de estos intervalos. Tambi√©n hay otras ventajas desde el punto de vista estad√≠stico, que veremos al hablar de las distribuciones de probabilidad.</p>
<p>La flexibilidad de configuraci√≥n de los gr√°ficos de <code>qqplot()</code>permite la personalizaci√≥n de los gr√°ficos hasta el √∫ltimo detalle. A continuaci√≥n vemos un gr√°fico de densidad agrupado por meses, que nos muestra aparentes diferencias en el extracto seco <code>est</code> seg√∫n los meses.</p>
</section>
<section id="diagrama-de-caja-o-boxplot" class="level2" data-number="7.8">
<h2 data-number="7.8" class="anchored" data-anchor-id="diagrama-de-caja-o-boxplot"><span class="header-section-number">7.8</span> Diagrama de caja o <em>boxplot</em></h2>
<p>Este gr√°fico fue creado por el estad√≠stico John Tukey en 1977, y es una herramienta fundamental en la exploraci√≥n de datos. Se basa en un grupo de medidas que se utiliza ampliamente en la descripci√≥n de conjuntos de datos, el conjunto de <strong>cuartiles</strong>. Si dividimos un grupo de datos <strong>ordenados</strong> en cuatro partes iguales, mediante <strong>tres</strong> puntos de corte, llamamos <strong>primer cuartil</strong> o <span class="math inline">\(Q1\)</span> al valor que se situa en el 25%; <strong>segundo cuartil</strong>, o <span class="math inline">\(Q2\)</span>, al valor que se sit√∫a en el centro (50%), y <strong>tercer cuartil</strong>, o <span class="math inline">\(Q3\)</span>, al punto que se situa en el 75% de los datos. A estos tres valores a√±adimos el <strong>m√≠nimo</strong> y el <strong>m√°ximo</strong>, y tenemos un conjunto de <strong>cinco n√∫meros</strong> que nos permiten describir la forma de la distribuci√≥n de datos con cierta precisi√≥n. El segundo cuartil (<span class="math inline">\(Q2\)</span>), que corresponde al 50% de los datos, se conoce habitualmente como <strong>mediana</strong>. El valor resultante de restar <span class="math inline">\(Q3-Q1\)</span> es lo que se conoce como <strong>rango intercuartil</strong> o <span class="math inline">\(IQR\)</span>, y es una medida de la dispersi√≥n de la distribuci√≥n de datos (mide la amplitud de la distribuci√≥n).</p>
<p>El <strong>diagrama de caja</strong>, tambi√©n conocido como <em>boxplot</em>, es un gr√°fico que permite resumir las caracter√≠sticas principales de un conjunto de datos utilizando estos cinco n√∫meros, tal como se explica a continuaci√≥n. Sus ventajas son:</p>
<ul>
<li>Muestra la mediana y los cuartiles (Q1 y Q3) de los datos.</li>
<li>Permite identificar la simetr√≠a de la distribuci√≥n: si la mediana no est√° en el centro, la distribuci√≥n no es sim√©trica.</li>
<li>Permite detectar posibles valores at√≠picos, representando los valores at√≠picos (<em>outliers</em>) que est√°n lejos del resto de los datos (un valor es at√≠pico si est√° m√°s all√° de (Q3 + 1.5 IQR) o (Q1 - 1.5 IQR).</li>
</ul>
<p>La construcci√≥n de un diagrama de caja es como sigue:</p>
<p><img src="01-imagenes/boxplot.svg" class="img-fluid"></p>
<p>Microsoft Excel no dispone de un dise√±o de gr√°ficos de caja que sea pr√°ctico, por lo que recurriremos siempre a R para realizarlos.</p>
<p>Como casi siempre, hay una funci√≥n de base que dibuja un <em>boxplot</em> y tambi√©n una geometr√≠a de <code>ggplot()</code>que lo hace: <code>geom_boxplot()</code>, con muchas m√°s opciones de dise√±o y formato que la opci√≥n de base.</p>
<p><span class="math display">\[
boxplot(df_aula$altura_cm)
\]</span></p>
<p>#| label: fig-boxplot2 #| fig-cap: ‚ÄúEjemplos de boxplot‚Äù #| fig-subcap: #| - ‚ÄúBoxplot b√°sico de R‚Äù #| - ‚ÄúBoxplot utilizando <code>ggplot()</code>‚Äù #| layout-ncol: 2</p>
<p>df_camembert &lt;- read.csv2(‚Äúexcel-R/camembert.csv‚Äù,fileEncoding=‚Äòlatin1‚Äô) df_camembert<span class="math inline">\(fecha &lt;- as.Date(df_camembert\)</span>fecha, format(‚Äú%d/%m/%Y‚Äù))</p>
<p>boxplot(df_camembert$est)</p>
<p>df_camembert |&gt; ggplot(aes(x=‚Äú‚Äú, y=est))+ geom_boxplot() + theme_bw() + theme(axis.text.x = element_blank(), # Oculta las etiquetas del eje x axis.ticks.x = element_blank()) # Oculta las marcas del eje x</p>
<p>Un uso muy interesante del boxplot en R consiste en agrupar los boxplot de una variable en funcion de otra. En este caso, agrupamos el extracto seco por meses previa agrupaci√≥n de la fecha. Esta agrupaci√≥n puede hacerse tanto en los gr√°ficos b√°sicos de R como en <code>ggplot()</code>:</p>
<p><strong>Resumen</strong></p>
<p>El c√≥digo realiza las siguientes acciones:</p>
<ul>
<li>A√±ade una columna <code>mes</code> al dataframe <code>df_camembert</code>, que contiene solo el mes extra√≠do de la columna <code>fecha</code>.</li>
<li>Crea un boxplot b√°sico que muestra la distribuci√≥n de <code>est</code> por mes.</li>
<li>Utiliza <code>ggplot2</code> para crear un boxplot m√°s personalizado de <code>est</code> por mes, con etiquetas y un tema minimalista para un dise√±o limpio.</li>
</ul>
<p>#| label: fig-boxplot3 #| fig-cap: ‚ÄúEjemplos de boxplot‚Äù #| fig-subcap: #| - ‚ÄúBoxplot b√°sico de R‚Äù #| - ‚ÄúBoxplot utilizando <code>ggplot()</code>‚Äù #| layout-ncol: 2</p>
<p>df_camembert<span class="math inline">\(mes &lt;- format(df_camembert\)</span>fecha, ‚Äú%m‚Äù) boxplot (df_camembert<span class="math inline">\(est~df_camembert\)</span>mes)</p>
<p>df_camembert |&gt; mutate (mes = format(fecha, ‚Äú%m‚Äù)) |&gt; ggplot(aes(x = mes, y = est)) + geom_boxplot() + labs(title = ‚ÄúBoxplot de ‚Äòest‚Äô por Meses‚Äù, x = ‚ÄúMes‚Äù, y = ‚ÄúValor de est‚Äù) + theme_minimal()</p>
<p>La agrupaci√≥n de los <em>boxplots</em> por meses nos pone claramente de manifiesto las diferencias en el extracto seco <code>est</code>que ya hab√≠amos visto con los gr√°ficos de densidad. Estas diferencias son m√°s claras en el mes de julio.</p>
<section id="relaci√≥n-entre-el-boxplot-y-el-histograma" class="level3">
<h3 class="anchored" data-anchor-id="relaci√≥n-entre-el-boxplot-y-el-histograma">Relaci√≥n entre el <em>boxplot</em> y el histograma</h3>
<p>Resulta muy √∫til comprender visualmente la relaci√≥n entre el <em>boxplot</em> y el histograma para entender la distribuci√≥n de los datos. En la gr√°fica siguiente se representan ambos simult√°neamente</p>
<p>df_camembert |&gt; ggplot(aes(x = est)) + geom_histogram(fill = ‚Äúlightblue‚Äù, color = ‚Äúblack‚Äù, bins = 20, alpha = 0.7) + geom_boxplot(width = 2, fill = ‚Äúdarkgrey‚Äù, alpha = 0.7, position = position_nudge(y = -2)) + labs(title = ‚ÄúHistograma y Boxplot‚Äù, y = ‚ÄúFrecuencias‚Äù)</p>
<p>df_camembert |&gt; ggplot(aes(x = log10(coliformes+1))) + geom_histogram(fill = ‚Äúlightblue‚Äù, color = ‚Äúblack‚Äù, bins = 20, alpha = 0.7) + geom_boxplot(width = 4, fill = ‚Äúdarkgrey‚Äù, alpha = 0.7, position = position_nudge(y = -4)) + labs(title = ‚ÄúHistograma y Boxplot‚Äù, y = ‚ÄúFrecuencias‚Äù)</p>
</section>
</section>
<section id="gr√°ficos-de-dispersi√≥n" class="level2" data-number="7.9">
<h2 data-number="7.9" class="anchored" data-anchor-id="gr√°ficos-de-dispersi√≥n"><span class="header-section-number">7.9</span> Gr√°ficos de dispersi√≥n</h2>
<p>Un gr√°fico de dispersi√≥n, tambi√©n conocido como diagrama de dispersi√≥n o <em>scatter plot</em>, es una representaci√≥n gr√°fica que utiliza puntos para mostrar la relaci√≥n entre dos variables num√©ricas. Cada punto en el gr√°fico representa una observaci√≥n del conjunto de datos y se coloca en el plano cartesiano de acuerdo con sus valores en las dos variables que se est√°n comparando.</p>
<p>Un gr√°fico de dispersi√≥n se compone mediante puntos:</p>
<ul>
<li>Cada punto en el gr√°fico representa una observaci√≥n.</li>
<li>La posici√≥n del punto en el gr√°fico est√° determinada por los valores de las dos variables para esa observaci√≥n.</li>
</ul>
<p>Los gr√°ficos de dispersi√≥n son √∫tiles para identificar varios aspectos de la relaci√≥n entre las dos variables:</p>
<ul>
<li>Si los puntos tienden a agruparse a lo largo de una l√≠nea recta ascendente, esto indica una correlaci√≥n positiva (a medida que una variable aumenta, la otra tambi√©n lo hace).</li>
<li>Si los puntos se agrupan a lo largo de una l√≠nea descendente, esto indica una correlaci√≥n negativa (a medida que una variable aumenta, la otra disminuye).</li>
<li>Si los puntos forman una curva en lugar de una l√≠nea recta, esto sugiere una relaci√≥n no lineal entre las variables.</li>
<li>La dispersi√≥n de los puntos puede indicar la variabilidad de los datos. Puntos que est√°n muy lejos del patr√≥n general pueden ser valores at√≠picos.</li>
</ul>
<p>Como siempre, vemos el gr√°fico de dispersi√≥n en Excel y a continuaci√≥n en R. Utilizamos la tabla de datos <code>camembert.csv</code> y representamos las variables <code>est</code>y <code>mg</code>.</p>
<div id="fig-grafdisp" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-grafdisp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-grafdisp" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-tabladisp" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-tabladisp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="01-imagenes/camembert-tabla-dispersion-est-mg.png" class="img-fluid figure-img" data-ref-parent="fig-grafdisp">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-tabladisp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Tabla de origen mostrando una parte de los datos seleccionados
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/camembert-dispersion-est-mg.png" class="img-fluid figure-img"></p>
<figcaption>Gr√°fico de dispersi√≥n</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-grafdisp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;7.1: Gr√°fico de dispersi√≥n en Excel
</figcaption>
</figure>
</div>
<p>A continuaci√≥n, el c√≥digo R para realizar el gr√°fico de dispersi√≥n, con la funci√≥n b√°sica y con <code>ggplot()</code>.</p>
<p>#| label: fig-grafdisp #| fig-cap: ‚ÄúEjemplos de gr√°fico de dispersi√≥n‚Äù #| fig-subcap: #| - ‚ÄúGr√°fico de dispersion b√°sico de R‚Äù #| - ‚ÄúGr√°fico de dispersion utilizando <code>ggplot()</code>‚Äù #| layout-ncol: 2 #| plot(df_camembert<span class="math inline">\(est, df_camembert\)</span>mg)</p>
<p>df_camembert |&gt; ggplot(aes(x=est,y=mg))+ geom_point() + theme_bw()</p>
<p>Lo esperable en nuestros datos es que el valor de <code>est</code> y el de <code>mg</code> est√©n asociados, y a valores altos de la primera variable correspondan valores altos de la segunda (para el mismo producto y sin cambios de tecnolog√≠a). Sin embargo, algunos valores parecen no encajar en este modelo; es el caso de un valor de <code>est</code>por encima de 52% con un valor de <code>mg</code>inferior a 23%, o el caso de un valor de <code>mg</code> en torno al 28% con un valor de <code>est</code> por debajo de 47%. Debemos revisar estos valores aparentemente anormales para verificar si ha habido un error en la toma de muestras o un error anal√≠tico. En f√°bricas con productos diferentes cuyos resultados anal√≠ticos se recogen en una tabla de datos com√∫n, a veces puede haber errores en la introducci√≥n de los c√≥digos de producto, de forma que la toma de muestras y los an√°lisis pueden ser correctos, pero estar mal asignados al guardar los datos.</p>
<p>Como vemos, los gr√°ficos de dispersi√≥n son una herramienta esencial en el an√°lisis de datos exploratorio, ya que permiten visualizar relaciones y patrones en los datos, identificar correlaciones y detectar posibles anomal√≠as. Esta informaci√≥n es crucial para realizar an√°lisis estad√≠sticos m√°s profundos y tomar decisiones basadas en datos.</p>
</section>
<section id="gr√°ficos-de-series-temporales" class="level2" data-number="7.10">
<h2 data-number="7.10" class="anchored" data-anchor-id="gr√°ficos-de-series-temporales"><span class="header-section-number">7.10</span> Gr√°ficos de series temporales</h2>
<p>Hasta ahora hemos utilizado gr√°ficos y tablas que describen la estructura y forma de una variable, o las relaciones entre dos variables. Hay otros gr√°ficos que tienen en cuenta la forma en la que esos datos cambian con el tiempo. En este caso, ser√° necesario que hayamos recogido en una variable de nuestra tabla los intervalos de tiempo en los que se han producido nuestros valores.</p>
</section>
<section id="ejemplos-de-series-temporales" class="level2" data-number="7.11">
<h2 data-number="7.11" class="anchored" data-anchor-id="ejemplos-de-series-temporales"><span class="header-section-number">7.11</span> Ejemplos de series temporales</h2>
<p>¬øSe te ocurren algunos ejemplos de series temporales?</p>
</section>
<section id="algunos-ejemplos" class="level2" data-number="7.12">
<h2 data-number="7.12" class="anchored" data-anchor-id="algunos-ejemplos"><span class="header-section-number">7.12</span> Algunos ejemplos</h2>
<ul>
<li><p>proceso de llenado de envases de queso crema: se llena una tarrina cada 15 segundos. Nuestros datos deben recoger el tiempo y el peso.</p></li>
<li><p>nuestro fichero de fabricaci√≥n de queso camembert recoge los valores anal√≠ticos medios diarios del producto fabricado.</p></li>
<li><p>Una f√°brica recoge leche diariamente y analiza cada d√≠a la composici√≥n de la leche que entra en la f√°brica.</p></li>
</ul>
<p>En un gr√°fico de series temporales,</p>
<ul>
<li>el eje horizontal (X) representa el tiempo. Los puntos de tiempo pueden ser minutos, horas, d√≠as, meses, a√±os, etc.</li>
<li>el eje vertical (Y) representa los valores de la variable que se est√° estudiando. Estos valores pueden ser medidas como temperatura, ventas, precios, etc.</li>
<li>cada valor individual corresponde a un punto</li>
<li>los valores se conectan mediante una l√≠nea que conecta los puntos de datos, mostrando c√≥mo cambian los valores de la variable a lo largo del tiempo.</li>
<li>normalmente, en un gr√°fico de series temporales no suelen representarse los puntos individuales para facilitar la legibilidad del gr√°fico.</li>
</ul>
<p>En nuestro conjunto de datos de fabricaci√≥n de queso camembert, la primera columna de la tabla recoge la variable <code>fecha</code>, lo que nos permite ordenar nuestros valores en el tiempo.</p>
<p>Cuando representamos valores en el tiempo, nunca usaremos el diagrama de barras, sino el gr√°fico de l√≠neas.</p>
<section id="c√≥mo-hacer-los-gr√°ficos-de-series-temporales-en-excel-y-en-r" class="level3">
<h3 class="anchored" data-anchor-id="c√≥mo-hacer-los-gr√°ficos-de-series-temporales-en-excel-y-en-r">C√≥mo hacer los gr√°ficos de series temporales en Excel y en R</h3>
<p>Para hacer el gr√°fico en Excel, seleccionamos la columna <code>est</code>e insertamos un gr√°fico de l√≠neas. A continuaci√≥n, con el cursor sobre el gr√°fico, pulsamos el boton derecho y seleccionamos la opci√≥n <code>Seleccionar datos</code>. Una vez abierto el cuadro de opciones, editamos las etiquetas del eje X y seleccionamos el rango de la variable <code>fecha</code> desde la fila 2 hasta la √∫ltima.Aceptamos, y a continuaci√≥n editamos el formato del eje Y para sustituir el valor m√≠nimo de <span class="math inline">\(0\)</span> por <span class="math inline">\(42\)</span>, que es el valor que queremos como m√≠nimo para nuestro gr√°fico.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/camembert-excel-graf-series.png" class="img-fluid figure-img"></p>
<figcaption>Tabla y gr√°fico de series</figcaption>
</figure>
</div>
<p>A continuaci√≥n, los gr√°ficos en R, como siempre con la opci√≥n de gr√°ficos base y con <code>ggplot()</code>. R formatea autom√°ticamente el rango del eje Y y no tenemos que hacer ninguna correcci√≥n de formato.</p>
<p>#| label: fig-graftemp #| fig-cap: ‚ÄúEjemplos de gr√°fico de series temporales‚Äù #| fig-subcap: #| - ‚ÄúGr√°fico de series temporales b√°sico de R‚Äù #| - ‚ÄúGr√°fico de series temporales utilizando <code>ggplot()</code>‚Äù #| layout-ncol: 2</p>
<p>plot(df_camembert<span class="math inline">\(fecha, df_camembert\)</span>est, type=‚Äúl‚Äù)</p>
<p>df_camembert |&gt; ggplot(aes(x=fecha, y=est))+ geom_line() + theme_bw()</p>
</section>
<section id="resumen-1" class="level3">
<h3 class="anchored" data-anchor-id="resumen-1">Resumen</h3>
<p>Los gr√°ficos de series temporales son √∫tiles para:</p>
<ol type="1">
<li><strong>Identificar Tendencias</strong>:
<ul>
<li>Una tendencia es una direcci√≥n general en la que los datos se mueven a lo largo del tiempo. Puede ser creciente, decreciente o constante.</li>
</ul></li>
<li><strong>Detecci√≥n de Estacionalidad</strong>:
<ul>
<li>La estacionalidad se refiere a patrones que se repiten en intervalos regulares de tiempo, como las ventas de productos estacionales.</li>
</ul></li>
<li><strong>Identificar Ciclos</strong>:
<ul>
<li>Los ciclos son fluctuaciones que ocurren en intervalos no regulares y pueden deberse a factores econ√≥micos o de otra √≠ndole.</li>
</ul></li>
<li><strong>Detecci√≥n de Anomal√≠as</strong>:
<ul>
<li>Los picos y ca√≠das repentinas pueden indicar eventos inusuales o errores en los datos.</li>
</ul></li>
</ol>
<p>Los gr√°ficos de series temporales son cruciales en diversas √°reas:</p>
<ol type="1">
<li><strong>Econom√≠a y Finanzas</strong>:
<ul>
<li>Seguimiento de precios de acciones, tasas de inter√©s y otros indicadores econ√≥micos.</li>
</ul></li>
<li><strong>Ciencia y Tecnolog√≠a</strong>:
<ul>
<li>Monitoreo de variables ambientales, datos meteorol√≥gicos y medidas cient√≠ficas.</li>
</ul></li>
<li><strong>Negocios</strong>:
<ul>
<li>An√°lisis de ventas, demanda de productos y desempe√±o empresarial a lo largo del tiempo.</li>
</ul></li>
</ol>
<p>Los gr√°ficos de series temporales proporcionan una visi√≥n clara y concisa de c√≥mo cambian los datos a lo largo del tiempo. Esta visualizaci√≥n es fundamental para el an√°lisis predictivo, la toma de decisiones y la identificaci√≥n de patrones y anomal√≠as en los datos.</p>
<p>https://tidyplots.org/</p>
<p><img src="01-imagenes/1740294003188.jpg" class="img-fluid"> <img src="01-imagenes/1740121283445.jpg" class="img-fluid"></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copiado");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copiado");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./030-organizacion.html" class="pagination-link" aria-label="La organizaci√≥n de los datos y el flujo de trabajo.Los datos ordenados o *arreglados* (*tidy data*)">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">La organizaci√≥n de los datos y el flujo de trabajo.Los datos ordenados o <em>arreglados</em> (<em>tidy data</em>)</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./050-estad-simple.html" class="pagination-link" aria-label="Medidas centrales y medidas de dispersi√≥n: la media y la varianza.">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Medidas centrales y medidas de dispersi√≥n: la media y la varianza.</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>