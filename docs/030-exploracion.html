<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; La exploraci√≥n de los datos mediante gr√°ficos. ‚Äì Notas para el master de queser√≠a</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./035-estad-simple.html" rel="next">
<link href="./020-intro-python.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-364982630eef5352dd1537128a8ed5cb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./030-exploracion.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">La exploraci√≥n de los datos mediante gr√°ficos.</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Notas para el master de queser√≠a</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introducci√≥n general</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./001-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">La estad√≠stica en el entorno industrial.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./005-herramientas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Herramientas para el an√°lisis. La reproducibilidad.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./010-organizacion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">La organizaci√≥n de los datos y el flujo de trabajo.Los datos ordenados o <em>arreglados</em> (<em>tidy data</em>)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./020-intro-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Introducci√≥n a Python en el entorno Google Colab</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./030-exploracion.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">La exploraci√≥n de los datos mediante gr√°ficos.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./035-estad-simple.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Medidas centrales y medidas de dispersi√≥n: la media y la varianza.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./040-caso1-camembert.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Caso 1. An√°lisis de una fabricaci√≥n de queso camembert usando <code>Python</code> y Google Colab.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./999-indice_dataframes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Indice de DataFrames utilizados</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Anexos</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./150-media-centro-gravedad.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">La media aritm√©tica como centro de gravedad de un grupo de datos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./160-bibliografia.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bibliograf√≠a</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#explorando-los-datos" id="toc-explorando-los-datos" class="nav-link active" data-scroll-target="#explorando-los-datos"><span class="header-section-number">6.1</span> Explorando los datos</a>
  <ul class="collapse">
  <li><a href="#el-diagrama-de-tallo-y-hojas-stem-and-leaf-plot-o-stemplot" id="toc-el-diagrama-de-tallo-y-hojas-stem-and-leaf-plot-o-stemplot" class="nav-link" data-scroll-target="#el-diagrama-de-tallo-y-hojas-stem-and-leaf-plot-o-stemplot">El diagrama de tallo y hojas (<em>stem and leaf plot</em> o <em>stemplot</em>)</a></li>
  <li><a href="#interpretaci√≥n-del-diagrama-de-tallo-y-hojas" id="toc-interpretaci√≥n-del-diagrama-de-tallo-y-hojas" class="nav-link" data-scroll-target="#interpretaci√≥n-del-diagrama-de-tallo-y-hojas">Interpretaci√≥n del diagrama de tallo y hojas</a></li>
  <li><a href="#resumen" id="toc-resumen" class="nav-link" data-scroll-target="#resumen">Resumen</a></li>
  </ul></li>
  <li><a href="#distribuciones-de-frecuencias" id="toc-distribuciones-de-frecuencias" class="nav-link" data-scroll-target="#distribuciones-de-frecuencias"><span class="header-section-number">6.2</span> Distribuciones de frecuencias</a>
  <ul class="collapse">
  <li><a href="#construcci√≥n-en-excel" id="toc-construcci√≥n-en-excel" class="nav-link" data-scroll-target="#construcci√≥n-en-excel">Construcci√≥n en Excel</a></li>
  </ul></li>
  <li><a href="#instrucciones-paso-a-paso-en-excel" id="toc-instrucciones-paso-a-paso-en-excel" class="nav-link" data-scroll-target="#instrucciones-paso-a-paso-en-excel"><span class="header-section-number">6.3</span> Instrucciones paso a paso en Excel</a>
  <ul class="collapse">
  <li><a href="#construcci√≥n-de-una-tabla-de-frecuencias-en-python" id="toc-construcci√≥n-de-una-tabla-de-frecuencias-en-python" class="nav-link" data-scroll-target="#construcci√≥n-de-una-tabla-de-frecuencias-en-python">Construcci√≥n de una tabla de frecuencias en <code>Python</code></a></li>
  </ul></li>
  <li><a href="#ejercicio-propuesto" id="toc-ejercicio-propuesto" class="nav-link" data-scroll-target="#ejercicio-propuesto"><span class="header-section-number">6.4</span> Ejercicio propuesto</a></li>
  <li><a href="#diagrama-de-barras" id="toc-diagrama-de-barras" class="nav-link" data-scroll-target="#diagrama-de-barras"><span class="header-section-number">6.5</span> Diagrama de barras</a></li>
  <li><a href="#histograma" id="toc-histograma" class="nav-link" data-scroll-target="#histograma"><span class="header-section-number">6.6</span> Histograma</a>
  <ul class="collapse">
  <li><a href="#construcci√≥n-de-un-histograma-en-excel" id="toc-construcci√≥n-de-un-histograma-en-excel" class="nav-link" data-scroll-target="#construcci√≥n-de-un-histograma-en-excel">Construcci√≥n de un histograma en Excel</a></li>
  <li><a href="#an√°lisis-de-un-caso-real" id="toc-an√°lisis-de-un-caso-real" class="nav-link" data-scroll-target="#an√°lisis-de-un-caso-real">An√°lisis de un caso real</a></li>
  </ul></li>
  <li><a href="#visualizaci√≥n-de-datos-en-python-con-seaborn-y-matplotlib" id="toc-visualizaci√≥n-de-datos-en-python-con-seaborn-y-matplotlib" class="nav-link" data-scroll-target="#visualizaci√≥n-de-datos-en-python-con-seaborn-y-matplotlib"><span class="header-section-number">6.7</span> Visualizaci√≥n de Datos en <code>Python</code> con Seaborn y Matplotlib</a>
  <ul class="collapse">
  <li><a href="#otros-ejemplos" id="toc-otros-ejemplos" class="nav-link" data-scroll-target="#otros-ejemplos">Otros ejemplos</a></li>
  </ul></li>
  <li><a href="#diagrama-de-caja-o-boxplot" id="toc-diagrama-de-caja-o-boxplot" class="nav-link" data-scroll-target="#diagrama-de-caja-o-boxplot"><span class="header-section-number">6.8</span> Diagrama de caja o <em>boxplot</em></a>
  <ul class="collapse">
  <li><a href="#relaci√≥n-entre-el-boxplot-y-el-histograma" id="toc-relaci√≥n-entre-el-boxplot-y-el-histograma" class="nav-link" data-scroll-target="#relaci√≥n-entre-el-boxplot-y-el-histograma">Relaci√≥n entre el <em>boxplot</em> y el histograma</a></li>
  </ul></li>
  <li><a href="#gr√°ficos-de-densidad" id="toc-gr√°ficos-de-densidad" class="nav-link" data-scroll-target="#gr√°ficos-de-densidad"><span class="header-section-number">6.9</span> Gr√°ficos de densidad</a>
  <ul class="collapse">
  <li><a href="#una-alternativa-al-boxplot-el-violin-plot" id="toc-una-alternativa-al-boxplot-el-violin-plot" class="nav-link" data-scroll-target="#una-alternativa-al-boxplot-el-violin-plot">Una alternativa al <em>boxplot</em>: el <em>violin plot</em></a></li>
  </ul></li>
  <li><a href="#gr√°ficos-de-dispersi√≥n" id="toc-gr√°ficos-de-dispersi√≥n" class="nav-link" data-scroll-target="#gr√°ficos-de-dispersi√≥n"><span class="header-section-number">6.10</span> Gr√°ficos de dispersi√≥n</a></li>
  <li><a href="#gr√°ficos-de-series-temporales" id="toc-gr√°ficos-de-series-temporales" class="nav-link" data-scroll-target="#gr√°ficos-de-series-temporales"><span class="header-section-number">6.11</span> Gr√°ficos de series temporales</a></li>
  <li><a href="#algunos-ejemplos" id="toc-algunos-ejemplos" class="nav-link" data-scroll-target="#algunos-ejemplos"><span class="header-section-number">6.12</span> Algunos ejemplos</a>
  <ul class="collapse">
  <li><a href="#c√≥mo-hacer-los-gr√°ficos-de-series-temporales-en-excel" id="toc-c√≥mo-hacer-los-gr√°ficos-de-series-temporales-en-excel" class="nav-link" data-scroll-target="#c√≥mo-hacer-los-gr√°ficos-de-series-temporales-en-excel">C√≥mo hacer los gr√°ficos de series temporales en Excel</a></li>
  <li><a href="#gr√°ficos-de-series-temporales-en-python-utilizando-pandas" id="toc-gr√°ficos-de-series-temporales-en-python-utilizando-pandas" class="nav-link" data-scroll-target="#gr√°ficos-de-series-temporales-en-python-utilizando-pandas">Gr√°ficos de series temporales en <code>Python</code> utilizando <code>pandas</code></a></li>
  <li><a href="#resumen-1" id="toc-resumen-1" class="nav-link" data-scroll-target="#resumen-1">Resumen</a></li>
  <li><a href="#algunas-sugerencias-para-la-creaci√≥n-de-gr√°ficos" id="toc-algunas-sugerencias-para-la-creaci√≥n-de-gr√°ficos" class="nav-link" data-scroll-target="#algunas-sugerencias-para-la-creaci√≥n-de-gr√°ficos">Algunas sugerencias para la creaci√≥n de gr√°ficos</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">La exploraci√≥n de los datos mediante gr√°ficos.</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Una imagen vale m√°s que mil palabras, y en el an√°lisis de datos, la visualizaci√≥n es fundamental para entender patrones, distribuciones y relaciones en nuestros datos.</p>
<p>En este cap√≠tulo estudiaremos c√≥mo describir conjuntos de datos de forma visual, utilizando varios tipos de gr√°ficos distintos:</p>
<ul>
<li><em>Stemplot</em></li>
<li>Histograma</li>
<li>Diagrama de caja o <em>boxplot</em></li>
<li>Gr√°fico de dispersi√≥n</li>
<li>Gr√°fico de series temporales</li>
</ul>
<p>Veremos la relaci√≥n visual entre un histograma y un diagrama de caja, y aprenderemos tambi√©n a construir tablas de frecuencias en Excel y en <code>Python</code>. Finalmente, veremos algunos otros tipos de gr√°ficos que son √∫tiles para aplicaciones concretas, como los gr√°ficos de densidad.</p>
<section id="explorando-los-datos" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="explorando-los-datos"><span class="header-section-number">6.1</span> Explorando los datos</h2>
<section id="el-diagrama-de-tallo-y-hojas-stem-and-leaf-plot-o-stemplot" class="level3">
<h3 class="anchored" data-anchor-id="el-diagrama-de-tallo-y-hojas-stem-and-leaf-plot-o-stemplot">El diagrama de tallo y hojas (<em>stem and leaf plot</em> o <em>stemplot</em>)</h3>
<p>El diagrama de tallo y hojas, tambi√©n conocido como <em>stemplot</em>, es una herramienta gr√°fica utilizada en estad√≠stica para representar la distribuci√≥n de un conjunto de datos. Es especialmente √∫til para conjuntos de datos peque√±os y proporciona una forma r√°pida y efectiva de visualizar la forma de los datos y su dispersi√≥n. El <em>stemplot</em> recibe este nombre porque el dibujo que resulta se asemeja a un tallo el que le salen las hojas que son los datos individuales.</p>
<p>Los componentes de un <em>stemplot</em> son:</p>
<ul>
<li><p><strong>Tallo</strong>: Representa el grupo principal de los valores de los datos. Generalmente, se usa la parte m√°s significativa del n√∫mero. Por ejemplo, en el n√∫mero 43, el tallo podr√≠a ser 4.</p></li>
<li><p><strong>Hojas</strong>: Representan los d√≠gitos finales o menos significativos de los valores de los datos. Siguiendo el ejemplo anterior, la hoja ser√≠a 3.</p></li>
</ul>
<section id="construcci√≥n-del-diagrama-en-la-hoja-de-c√°lculo" class="level4">
<h4 class="anchored" data-anchor-id="construcci√≥n-del-diagrama-en-la-hoja-de-c√°lculo">Construcci√≥n del diagrama en la hoja de c√°lculo</h4>
<p>Supongamos que queremos medir la altura de un grupo de alumnos de nuestra clase. √âste es nuestro grupo:</p>
<p><img src="01-imagenes/grupo1.jpg" class="img-fluid"></p>
<p>Realizamos la medida de altura de cada persona y registramos los valores en una hoja de c√°lculo, siguiendo las buenas pr√°cticas que hemos visto al estudiar los <em>datos ordenados</em>.</p>
<p><img src="01-imagenes/aula1.png" class="img-fluid"></p>
<p>Vamos a utilizar los datos de medidas de altura de nuestro grupo de alumnos. Quitamos el √∫ltimo d√≠gito a la derecha de nuestros valores y colocamos verticalmente los valores resultantes orden√°ndolos de menor a mayor, y evitando las repeticiones. Para evitar errores en la escala, debemos incluir los valores intermedios aunque no haya ninguno en nuestros datos (en el ejemplo, el valor 16 que corresponder√≠a a los 160). Esto forma el ‚Äútallo‚Äù de nuestro diagrama:</p>
<p><img src="01-imagenes/aula1-stemplot-paso1.png" class="img-fluid"></p>
<p>A continuaci√≥n a√±adimos las ‚Äúhojas‚Äù en la celda a la derecha, que consisten en los valores que hemos ‚Äúcortado‚Äù de nuestro √°rbol, uno al lado de otro, incluyendo esta vez los valores repetidos, en orden de menor a mayor. Por ejemplo, para el valor 135, descartamos 13 y utlizamos 5; para el valor 138, descartamos 13 y utilizamos 8, y as√≠ sucesivamente para todos los valores.</p>
<p><img src="01-imagenes/aula1-stemplot-paso2.png" class="img-fluid"></p>
</section>
</section>
<section id="interpretaci√≥n-del-diagrama-de-tallo-y-hojas" class="level3">
<h3 class="anchored" data-anchor-id="interpretaci√≥n-del-diagrama-de-tallo-y-hojas">Interpretaci√≥n del diagrama de tallo y hojas</h3>
<ul>
<li><strong>Tallo</strong>: Los n√∫meros a la izquierda del s√≠mbolo <code>|</code> representan los valores base (o tallos), en este caso, las decenas de las alturas.</li>
<li><strong>Hojas</strong>: Los n√∫meros a la derecha del s√≠mbolo <code>|</code> representan los d√≠gitos adicionales (o hojas). Por ejemplo, en la l√≠nea <code>13 | 58</code>, el tallo es <code>13</code> (130), y las hojas son <code>5</code> y <code>8</code>, que corresponden a los datos <code>135</code> y <code>138</code>.</li>
</ul>
<p>El diagrama nos dice que los valores en torno a 150 cm son los m√°s frecuentes, y que hay un valor alto (175) que se separa un poco del resto.</p>
</section>
<section id="resumen" class="level3">
<h3 class="anchored" data-anchor-id="resumen">Resumen</h3>
<p>El <em>stemplot</em> es muy sencillo de hacer y nos da una visi√≥n r√°pida y compacta de la <em>distribuci√≥n</em> de nuestros valores, as√≠ como de la posible existencia de valores que se separan del conjunto. Estos valores alejados, que se conocen en ingl√©s como <em>outliers</em>, tienen mucha importancia en el analisis e interpretaci√≥n de los datos, como veremos m√°s adelante.</p>
<p>La ventaja principal del <em>stemplot</em> es que mantiene los valores originales de las observaciones, y puede hacerse f√°cilmente con bol√≠grafo y papel, sin necesidad de m√°s herramientas.</p>
<p>Su principal inconveniente es la elaboraci√≥n manual (aunque lenguajes como R tienen funciones que lo contruyen de forma autom√°tica), y por lo tanto, la dificultad de aplicarlo a volumenes de datos medios o grandes. El uso generalizado de los ordenadores ha hecho que actualmente esta herramienta tenga muy poco uso, y se utilicen en su lugar otras m√°s gr√°ficas y de construcci√≥n autom√°tica, como el <strong>histograma</strong>.</p>
</section>
</section>
<section id="distribuciones-de-frecuencias" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="distribuciones-de-frecuencias"><span class="header-section-number">6.2</span> Distribuciones de frecuencias</h2>
<p>Una <strong>distribuci√≥n de frecuencias</strong> es una tabla que muestra la frecuencia con la que ocurren los valores diferentes en un conjunto de datos. Esta herramienta es fundamental en la estad√≠stica descriptiva y permite resumir y visualizar c√≥mo se distribuyen los datos de manera clara y comprensible. A partir de una tabla de frecuencias se pueden construir diagramas de barra o histogramas para visualizar la tabla de forma gr√°fica.</p>
<p>Para construir una distribuci√≥n de frecuencias, agrupamos nuestros valores por intervalos, y contamos el n√∫mero de observaciones que aparecen en cada intervalo. Los componentes de una distribuci√≥n de frecuencias son:</p>
<ul>
<li>las <strong>categor√≠as o clases</strong> son los intervalos o valores espec√≠ficos de los datos que se est√°n analizando. Cada categor√≠a representa un rango de valores en caso de datos continuos, o valores espec√≠ficos en caso de datos discretos.</li>
<li>la <strong>frecuencia absoluta</strong> es un <em>recuento simple</em> de cu√°ntas veces aparece cada valor en un conjunto de datos.</li>
<li>la <strong>frecuencia relativa</strong> nos muestra la <em>proporci√≥n</em> de cada valor frente al total. Puede expresarse como fracci√≥n (entre 0 y 1) o como porcentaje (respecto a 100), y se calcula como: <span class="math display">\[
\text{Frecuencia Relativa} = \frac{\text{Frecuencia Absoluta}}{\text{N√∫mero Total de Observaciones}}
\]</span></li>
<li>la <strong>frecuencia acumulada</strong> nos dice cu√°ntas observaciones est√°n por debajo de un cierto valor.</li>
<li>la <strong>frecuencia relativa acumulada</strong> es la proporci√≥n de valores que est√°n por debajo de un cierto valor</li>
</ul>
<section id="construcci√≥n-en-excel" class="level3">
<h3 class="anchored" data-anchor-id="construcci√≥n-en-excel">Construcci√≥n en Excel</h3>
<p>La tabla a continuaci√≥n muestra una distribuci√≥n de frecuencias de las alturas de nuestro grupo de alumnos, calculada mediante una tabla din√°mica de Excel.</p>
</section>
</section>
<section id="instrucciones-paso-a-paso-en-excel" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="instrucciones-paso-a-paso-en-excel"><span class="header-section-number">6.3</span> Instrucciones paso a paso en Excel</h2>
<p>Para crear una tabla de frecuencias de la variable <code>altura_cm</code> mediante tablas din√°micas en Excel, sigue estos pasos:</p>
<p><strong>1. Selecciona los Datos</strong></p>
<ol type="1">
<li>Abre tu archivo de Excel y selecciona toda la tabla que incluye los encabezados (<code>nombre</code> y <code>altura_cm</code>).</li>
</ol>
<p><strong>2. Inserta una tabla din√°mica</strong></p>
<ol type="1">
<li>Ve a la pesta√±a <strong>Insertar</strong> en la barra de herramientas de Excel.</li>
<li>Haz clic en <strong>Tabla Din√°mica</strong>.</li>
<li>En el cuadro de di√°logo que aparece, aseg√∫rate de que el rango de datos seleccionado es correcto y elige d√≥nde deseas colocar la tabla din√°mica (en una nueva hoja de c√°lculo o en la hoja actual).</li>
</ol>
<p><strong>3. A√±ade la frecuencia absoluta</strong></p>
<ol type="1">
<li>En el panel de campos de la tabla din√°mica, arrastra el campo <code>altura_cm</code> a la secci√≥n <strong>Filas</strong>.</li>
<li>Arrastra nuevamente el campo <code>altura_cm</code> a la secci√≥n <strong>Valores</strong>.</li>
</ol>
<p><strong>4. Ajusta la configuraci√≥n de valores</strong></p>
<ol type="1">
<li>Haz clic en el campo <code>altura_cm</code> en la secci√≥n <strong>Valores</strong>.</li>
<li>Selecciona <strong>Configuraci√≥n de campo de valor</strong>.</li>
<li>En el cuadro de di√°logo que aparece, aseg√∫rate de que est√© seleccionada la opci√≥n <strong>Recuento</strong></li>
<li>Acepta todo hasta volver a Excel.</li>
</ol>
<p><strong>5. A√±ade la frecuencia relativa</strong></p>
<ol type="1">
<li>En el panel de campos de la tabla din√°mica, arrastra de nuevo el campo <code>altura_cm</code> a la secci√≥n <strong>Valores</strong>. Ahora la variable aparecer√° como <code>altura_cm2</code>.</li>
</ol>
<p><strong>6. Ajusta de nuevo la configuraci√≥n de valores</strong></p>
<ol type="1">
<li>Haz clic en el campo <code>altura_cm2</code> en la secci√≥n <strong>Valores</strong>.</li>
<li>Selecciona <strong>Configuraci√≥n de campo de valor</strong>.</li>
<li>En el cuadro de di√°logo que aparece, aseg√∫rate de que est√© seleccionada la opci√≥n <strong>Recuento</strong>.</li>
<li>En ese mismo cuadro, haz click en el bot√≥n <strong>Formato de n√∫mero</strong>, selecciona <strong>N√∫mero</strong> y <strong>2 decimales</strong>, y acepta.</li>
<li>En ese mismo cuadro, selecciona la pesta√±a que dice <strong>Mostrar valores como</strong></li>
<li>En el men√∫ desplegable, escoge la opci√≥n <strong>% del total de columnas</strong>.</li>
<li>Acepta todo hasta volver a Excel.</li>
</ol>
<p><strong>7. Ordena y formatea</strong></p>
<ol type="1">
<li>Puedes ordenar las alturas en orden ascendente o descendente haciendo clic en la flecha junto a <code>altura_cm</code> en la tabla din√°mica.</li>
<li>Tambi√©n puedes cambiar el formato de la tabla din√°mica para que sea m√°s f√°cil de leer.</li>
<li>Puedes renombrar los encabezados de la tabla para que sea m√°s f√°cil de leer, rotulando las columnas, por ejemplo, como <code>frec_abs</code>y <code>frec_rel</code>, o cualquier otro encabezado que te resulte claro y √∫til.</li>
</ol>
<p><img src="01-imagenes/aula1-td-frec.png" class="img-fluid"></p>
<section id="construcci√≥n-de-una-tabla-de-frecuencias-en-python" class="level3">
<h3 class="anchored" data-anchor-id="construcci√≥n-de-una-tabla-de-frecuencias-en-python">Construcci√≥n de una tabla de frecuencias en <code>Python</code></h3>
<div id="cell-5" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>altura_cm <span class="op">=</span> [<span class="dv">153</span>,<span class="dv">135</span>,<span class="dv">140</span>,<span class="dv">140</span>,<span class="dv">175</span>,<span class="dv">138</span>,<span class="dv">145</span>,<span class="dv">154</span>,<span class="dv">152</span>,<span class="dv">159</span>,<span class="dv">154</span>]</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>frecuencias <span class="op">=</span> pd.Series(altura_cm).value_counts()</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(frecuencias)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>140    2
154    2
153    1
135    1
175    1
138    1
145    1
152    1
159    1
Name: count, dtype: int64</code></pre>
</div>
</div>
<p>Con un poco m√°s de c√≥digo podemos hacer la tabla agrupando los valores en clases de amplitud 10, con las frecuencias absolutas y relativas. Es un poco m√°s complicado, t√≥mate tu tiempo para entender cada paso de las instrucciones.</p>
<div id="cell-7" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>altura_cm <span class="op">=</span> [<span class="dv">153</span>,<span class="dv">135</span>,<span class="dv">140</span>,<span class="dv">140</span>,<span class="dv">175</span>,<span class="dv">138</span>,<span class="dv">145</span>,<span class="dv">154</span>,<span class="dv">152</span>,<span class="dv">159</span>,<span class="dv">154</span>]</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>serie <span class="op">=</span> pd.Series(altura_cm)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear intervalos autom√°ticamente con amplitud 10</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>bins <span class="op">=</span> np.arange(<span class="bu">min</span>(altura_cm)<span class="op">//</span><span class="dv">10</span><span class="op">*</span><span class="dv">10</span>, <span class="bu">max</span>(altura_cm)<span class="op">//</span><span class="dv">10</span><span class="op">*</span><span class="dv">10</span> <span class="op">+</span> <span class="dv">20</span>, <span class="dv">10</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Agrupar y contar</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>tabla <span class="op">=</span> pd.cut(serie, bins<span class="op">=</span>bins).value_counts(sort<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir a DataFrame con acumulados y relativos</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> tabla.to_frame(name<span class="op">=</span><span class="st">'Frecuencia'</span>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Frecuencia acumulada'</span>] <span class="op">=</span> df[<span class="st">'Frecuencia'</span>].cumsum()</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Frecuencia relativa (%)'</span>] <span class="op">=</span> (df[<span class="st">'Frecuencia'</span>] <span class="op">/</span> df[<span class="st">'Frecuencia'</span>].<span class="bu">sum</span>() <span class="op">*</span> <span class="dv">100</span>).<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Acumulada (%)'</span>] <span class="op">=</span> df[<span class="st">'Frecuencia relativa (%)'</span>].cumsum()</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            Frecuencia  Frecuencia acumulada  Frecuencia relativa (%)  \
(130, 140]           4                     4                    36.36   
(140, 150]           1                     5                     9.09   
(150, 160]           5                    10                    45.45   
(160, 170]           0                    10                     0.00   
(170, 180]           1                    11                     9.09   

            Acumulada (%)  
(130, 140]          36.36  
(140, 150]          45.45  
(150, 160]          90.90  
(160, 170]          90.90  
(170, 180]          99.99  </code></pre>
</div>
</div>
<p>Explicaci√≥n del c√≥digo l√≠nea a l√≠nea.</p>
<p>Este script en <code>Python</code> construye una tabla de frecuencias agrupadas a partir de un conjunto de datos num√©ricos (<code>altura_cm</code>), usando <code>pandas</code> y <code>numpy</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Importa las bibliotecas necesarias: - <code>pandas</code>: para manipulaci√≥n tabular. - <code>numpy</code>: para c√°lculos num√©ricos y generaci√≥n de rangos.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>altura_cm <span class="op">=</span> [<span class="dv">153</span>,<span class="dv">135</span>,<span class="dv">140</span>,<span class="dv">140</span>,<span class="dv">175</span>,<span class="dv">138</span>,<span class="dv">145</span>,<span class="dv">154</span>,<span class="dv">152</span>,<span class="dv">159</span>,<span class="dv">154</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Define el conjunto de datos como una lista de alturas en cent√≠metros.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>serie <span class="op">=</span> pd.Series(altura_cm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Convierte la lista en una <code>Series</code> de pandas, lo que permite aplicar funciones estad√≠sticas f√°cilmente.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>bins <span class="op">=</span> np.arange(<span class="bu">min</span>(altura_cm)<span class="op">//</span><span class="dv">10</span><span class="op">*</span><span class="dv">10</span>, <span class="bu">max</span>(altura_cm)<span class="op">//</span><span class="dv">10</span><span class="op">*</span><span class="dv">10</span> <span class="op">+</span> <span class="dv">20</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Genera los l√≠mites de clase con amplitud 10: - <code>min(altura_cm)//10*10</code>: redondea hacia abajo el m√≠nimo a la decena m√°s cercana. - <code>max(altura_cm)//10*10 + 20</code>: redondea hacia arriba el m√°ximo y a√±ade 10 extra para incluir el √∫ltimo dato. - <code>np.arange(...)</code>: crea un array de l√≠mites desde el m√≠nimo hasta el m√°ximo, en pasos de 10.</p>
<p>üìå Ejemplo de salida: <code>[130, 140, 150, 160, 170, 180]</code></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>tabla <span class="op">=</span> pd.cut(serie, bins<span class="op">=</span>bins).value_counts(sort<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Agrupa los datos en los intervalos definidos: - <code>pd.cut(...)</code>: asigna cada dato a un intervalo. - <code>.value_counts(sort=False)</code>: cuenta cu√°ntos datos hay en cada intervalo, sin reordenarlos.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> tabla.to_frame(name<span class="op">=</span><span class="st">'Frecuencia'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Convierte la serie de frecuencias en un <code>DataFrame</code> con una columna llamada <code>'Frecuencia'</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Frecuencia acumulada'</span>] <span class="op">=</span> df[<span class="st">'Frecuencia'</span>].cumsum()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Calcula la frecuencia acumulada sumando progresivamente los valores de la columna <code>'Frecuencia'</code>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Frecuencia relativa (%)'</span>] <span class="op">=</span> (df[<span class="st">'Frecuencia'</span>] <span class="op">/</span> df[<span class="st">'Frecuencia'</span>].<span class="bu">sum</span>() <span class="op">*</span> <span class="dv">100</span>).<span class="bu">round</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Calcula la frecuencia relativa en porcentaje: - Divide cada frecuencia por el total. - Multiplica por 100. - Redondea a 2 decimales.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Acumulada (%)'</span>] <span class="op">=</span> df[<span class="st">'Frecuencia relativa (%)'</span>].cumsum()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Calcula el porcentaje acumulado, √∫til para an√°lisis tipo Pareto.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>üîπ Muestra la tabla final con: - Intervalos - Frecuencia absoluta - Frecuencia acumulada - Frecuencia relativa (%) - Porcentaje acumulado</p>
<p>Como ves en el resultado, a veces se utilizan los s√≠mbolos <code>(</code> y <code>[</code> para definir los intervalos, tal como se hace en matem√°ticas.</p>
<ul>
<li>Intervalo <strong>abierto</strong>: El s√≠mbolo <code>(</code> se utiliza para denotar un intervalo abierto. El l√≠mite correspondiente <strong>no</strong> est√° incluuido en el intervalo.</li>
<li>Intervalo <strong>cerrado o semiabierto</strong>:El s√≠mbolo <code>[</code> se utiliza para denotar un intervalo cerrado o semiabierto. EL l√≠mite correspondiente <strong>s√≠</strong> est√° incluido en el intervalo.</li>
</ul>
<p>Ejemplos:</p>
<ul>
<li><span class="math inline">\((a, b)\)</span> representa todos los n√∫meros reales <strong>mayores</strong> que <span class="math inline">\(a\)</span> y <strong>menores</strong> que <span class="math inline">\(b\)</span> (excluye los valores <span class="math inline">\(a\)</span> y <span class="math inline">\(b\)</span>).</li>
<li><span class="math inline">\([a, b]\)</span> representa todos los n√∫meros reales <strong>mayores o iguales</strong> que <span class="math inline">\(a\)</span> y <strong>menores o iguales</strong> que <span class="math inline">\(b\)</span> (incluye <span class="math inline">\(a\)</span> y <span class="math inline">\(b\)</span>).</li>
<li><span class="math inline">\([a, b)\)</span> representa todos los n√∫meros reales <strong>mayores o iguales</strong> que <span class="math inline">\(a\)</span> y <strong>menores</strong> que <span class="math inline">\(b\)</span> (incluye <span class="math inline">\(a\)</span>, pero excluye <span class="math inline">\(b\)</span>)</li>
<li><span class="math inline">\((a, b]\)</span> representa todos los n√∫meros reales <strong>mayores</strong> que <span class="math inline">\(a\)</span> y <strong>menores o iguales</strong> que <span class="math inline">\(b\)</span> (excluye <span class="math inline">\(a\)</span>, pero incluye <span class="math inline">\(b\)</span>). :::</li>
</ul>
<p>Si comparamos los dos m√©todos que hemos utilizado para construir la tabla de frecuencias, vemos que:</p>
<ul>
<li>en Excel los pasos que hemos dado no est√°n registrados y a la vista, y, por lo tanto, no son f√°cilmente revisables</li>
<li>en <code>Python</code>, todos los pasos y opciones que hemos utilizado est√°n a la vista en el c√≥digo del script</li>
</ul>
<p>Si otra persona quisiera modificar la tabla, le ser√≠a f√°cil editar el c√≥digo y relanzar el script, mientras que en Excel no ser√≠a f√°cil asegurarse de todos y cada uno de los pasos y clicks de rat√≥n que hemos dado para construir y formatear la tabla.</p>
<p>Es el caso, por ejemplo, de que envi√°semos la tabla a otra persona y √©sta tuviese que editarla en nuestra ausencia. En Excel, tendr√≠amos que enviar a esa persona una explicaci√≥n con las instrucciones oportunas; en cambio, en <code>Python</code>, una vez que se comprende el c√≥digo, no hacen falta m√°s explicaciones adicionales. Incluso sin una comprensi√≥n total del c√≥digo, se podr√≠a duplicar exactamente la tabla copiando y ejecutando el c√≥digo.</p>
<p>Esta es una de las principales razones de la conveniencia del aprendizaje de <code>Python</code> incluso para las actividades m√°s sencillas.</p>
</section>
</section>
<section id="ejercicio-propuesto" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="ejercicio-propuesto"><span class="header-section-number">6.4</span> Ejercicio propuesto</h2>
<p>En la tabla de frecuencias anterior, calcular <strong>frecuencia absoluta acumulada</strong> y <strong>frecuencia relativa acumulada</strong> en Excel, e incluirlas en la tabla como dos columnas adicionales. La <strong>frecuencia relativa acumulada</strong> nos permitir√° crear <strong>diagramas de Pareto</strong>, muy √∫tiles en los procesos de mejora de calidad.</p>
</section>
<section id="diagrama-de-barras" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="diagrama-de-barras"><span class="header-section-number">6.5</span> Diagrama de barras</h2>
<p>Cuando nuestra variable es <em>discreta</em>, podemos representar las frecuencias de cada valor de forma gr√°fica utilizando un diagrama de barras. Este diagrama utiliza barras rectangulares para representar la frecuencia de cada categor√≠a.</p>
<p>Este gr√°fico es muy utilizado para representar, por ejemplo, resultados de encuestas, como el n√∫mero de votos que han obtenido los diferentes partidos pol√≠ticos en unas elecciones, o tablas discretas, como los kilos fabricados por meses en una f√°brica.</p>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="01-imagenes/2024-12-07-excel-tabla-frec-1.png" class="img-fluid" width="300"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="01-imagenes/barras1.png" class="img-fluid" width="300"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="01-imagenes/2024-12-07-excel-tabla-frec-2.png" class="img-fluid" width="300"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="01-imagenes/barras2.png" class="img-fluid" width="300"></p>
</div>
</div>
</div>
</section>
<section id="histograma" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="histograma"><span class="header-section-number">6.6</span> Histograma</h2>
<p>Para visualizar las variables continuas se utiliza el <strong>histograma</strong>, que es un diagrama que utiliza las barras rectangulares para hacer un gr√°fico de la distribuci√≥n de valores continuos, previamente agrupados en intervalos (<em>bins</em> en ingl√©s), tal como se ha hecho en la tabla de frecuencias.</p>
<section id="componentes-de-un-histograma" class="level4">
<h4 class="anchored" data-anchor-id="componentes-de-un-histograma">Componentes de un histograma</h4>
<ol type="1">
<li><strong>Eje horizontal (X)</strong>: Representa los intervalos de valores de la variable. Cada intervalo abarca un rango espec√≠fico de valores.</li>
<li><strong>Eje vertical (Y)</strong>: Muestra la frecuencia o el n√∫mero de veces que los valores caen dentro de cada intervalo.</li>
<li><strong>Barras</strong>: Cada barra en el histograma representa un intervalo. La altura de la barra indica la frecuencia de los valores dentro de ese intervalo.</li>
</ol>
</section>
<section id="c√≥mo-interpretar-un-histograma" class="level4">
<h4 class="anchored" data-anchor-id="c√≥mo-interpretar-un-histograma">C√≥mo interpretar un histograma</h4>
<ul>
<li>Si las barras son altas en un intervalo espec√≠fico, significa que muchos valores del conjunto de datos caen dentro de ese rango.</li>
<li>Un histograma puede ayudar a identificar patrones, como si los datos est√°n distribuidos de manera sim√©trica, sesgada, o si hay picos y valles significativos.</li>
</ul>
</section>
<section id="construcci√≥n-de-un-histograma-en-excel" class="level3">
<h3 class="anchored" data-anchor-id="construcci√≥n-de-un-histograma-en-excel">Construcci√≥n de un histograma en Excel</h3>
<p>Usaremos el ejemplo de la altura en cm. de un grupo de alumnos, cuyos datos hemos guardado en el fichero csv <code>aula1.csv</code>.</p>
<p>Podemos utilizar dos m√©todos para hacer un histograma en Excel</p>
<section id="m√©todo-1-histograma-directo" class="level4">
<h4 class="anchored" data-anchor-id="m√©todo-1-histograma-directo">M√©todo 1: histograma directo</h4>
<ul>
<li>Seleccionamos el rango de datos. Podemos hacerlo mediante un click en el encabezado de la columna de la variable <code>altura_cm</code>, en este caso, la columna <code>B</code>.</li>
<li>En la opci√≥n de men√∫ <code>Insertar</code>, seleccionamos el icono <code>Seleccionar gr√°ficos de estad√≠stica</code></li>
<li>Seleccionamos <code>Histograma</code></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/excel-histo-aula1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></p>
</figure>
</div>
<p>Excel calcula autom√°ticamente la amplitud de los intervalos y el n√∫mero de columnas; estas opciones pueden modificarse seleccionando con el bot√≥n derecho del rat√≥n el elemento a modificar. En este caso, utilizamos estas opciones:</p>
<ul>
<li>Eliminamos t√≠tulo del gr√°fico</li>
<li>Modificamos anchura de las barras seleccionando <code>Dar formato a serie de datos</code>, <code>Opciones de serie</code>, <code>Ancho del rango</code>= 50%</li>
<li>Modificamos los intervalos seleccionando el eje X: <code>Dar formato al eje</code>, <code>Opciones de eje</code>, <code>Ancho del rango</code> = 10</li>
</ul>
<p>La descripci√≥n de los intervalos utiliza los mismos s√≠mbolos que hemos visto en las tablas de frecuencias de <code>Python</code>.</p>
<p>En el momento de escribir este manual, Excel no permite hacer histogramas m√∫ltiples ni agrupados por otra variable, por lo que para dise√±os m√°s complejos, no hay m√°s remedio que recurrir a otras opciones como las tablas din√°micas de Excel o, mejor a√∫n, <code>Python</code> o <code>R</code>.</p>
</section>
<section id="m√©todo-2-utilizar-una-tabla-din√°mica" class="level4">
<h4 class="anchored" data-anchor-id="m√©todo-2-utilizar-una-tabla-din√°mica">M√©todo 2: utilizar una tabla din√°mica</h4>
<p>La tabla din√°mica que hemos construido en Excel ha convertido nuestra variable continua, <code>altura_cm</code>, en una tabla de valores discretos, al agrupar los valores en intervalos. En Excel podemos representar las frecuencias absolutas de nuestra tabla gr√°ficamente, insertando un gr√°fico de barras a partir de la tabla:</p>
<ul>
<li>Con el cursor dentro de la tabla, seleccionamos la opci√≥n de men√∫ <code>Insertar</code></li>
<li>Insertamos un gr√°fico de barras</li>
</ul>
<p>Opcionalmente, aplicamos las siguientes opciones de formato:</p>
<ul>
<li>Hacemos click sobre uno de los botones del gr√°fico din√°mico con el boton derecho del rat√≥n, y seleccionamos la opci√≥n ocultar todos los botones del gr√°fico.</li>
<li>Eliminamos el t√≠tulo del gr√°fico</li>
<li>Abrimos el formato de la serie de datos, e introducimos en la opci√≥n <code>Ancho del rango</code> el valor <span class="math inline">\(50\%\)</span> para ensanchar las barras.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/aula1-diag-barras.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></p>
</figure>
</div>
<p>Al utiizar la tabla din√°mica para construir el gr√°fico, Excel utiliza las categor√≠as de la tabla din√°mica. Dado que estas categor√≠as (los intervalos que ha formado la tabla din√°mica) son discretas, Excel utiliza el resultado de la tabla din√°mica para hacer el gr√°fico con un diagrama de barras. No es posible insertar un histograma a partir de una tabla din√°mica.</p>
</section>
</section>
<section id="an√°lisis-de-un-caso-real" class="level3">
<h3 class="anchored" data-anchor-id="an√°lisis-de-un-caso-real">An√°lisis de un caso real</h3>
<p>El histograma muestra su utilidad cuando representamos la distribuci√≥n de un conjunto de valores m√°s grande que nuestros once alumnos. Veamos su aplicaci√≥n a los datos diarios de una fabricaci√≥n de queso camembert a lo largo de un a√±o.Los datos de esta fabricaci√≥n est√°n en el fichero <a href="https://raw.githubusercontent.com/juanriera/master-queseria/master/datos/camembert.csv'"><code>camembert.csv</code></a>.</p>
<p>La tabla de datos tiene esta estructura:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/camembert-tabla-datos.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></p>
</figure>
</div>
<p>La tabla est√° formada por 211 casos.</p>
<section id="construcci√≥n-del-histograma-con-excel" class="level4">
<h4 class="anchored" data-anchor-id="construcci√≥n-del-histograma-con-excel">Construcci√≥n del histograma con Excel</h4>
<section id="m√©todo-directo" class="level5">
<h5 class="anchored" data-anchor-id="m√©todo-directo">M√©todo directo</h5>
<p>Seleccionamos el rango del extracto seco (columna <code>est</code>) e insertamos el histograma, ajustando el ancho de intervalo a <span class="math inline">\(1\)</span> en las opciones de gr√°fico:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/excel-histo.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
</section>
<section id="m√©todo-2-mediante-una-tabla-din√°mica" class="level5">
<h5 class="anchored" data-anchor-id="m√©todo-2-mediante-una-tabla-din√°mica">M√©todo 2: mediante una tabla din√°mica</h5>
<p>Los pasos a seguir son:</p>
<ol type="1">
<li>Construir la tabla din√°mica</li>
<li>Agrupar los datos</li>
<li>Insertar el gr√°fico a partir de la tabla</li>
</ol>
<p>Con una agrupaci√≥n de datos en intervalos de 1, esta es nuestra tabla din√°mica:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/camembert-td.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
<p>En la figura siguiente vemos el histograma correspondiente a la tabla anterior, con un intervalo de clase de 1 punto de extracto seco total, y otras dos alternativas si el intervalo de clase fuese de 2 puntos o de de 0,5 puntos.</p>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="01-imagenes/camembert-histo1.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="01-imagenes/camembert-histo2.png" class="img-fluid"></p>
</div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/camembert-histo3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></p>
</figure>
</div>
<p>La decisi√≥n de cambiar la amplitud del intervalo en un histograma influye en el aspecto del gr√°fico y es una opci√≥n personal; lo mejor es utilizar la que en nuestra opini√≥n refleje mejor el aspecto de la distribuci√≥n de datos, ni demasiado grande ni demasiado peque√±a. En todo caso, debemos ser capaces de interpretar que la distribuci√≥n de los valores es la misma en los tres casos: hay una mayor√≠a de casos con valores entre 46 y 48, y muy pocos casos con valores muy bajos o muy altos. En este caso, la distribuci√≥n de los valores es aproximadamente sim√©trica, y se reparten alrededor de una mayor√≠a de valores centrales.</p>
</section>
</section>
</section>
</section>
<section id="visualizaci√≥n-de-datos-en-python-con-seaborn-y-matplotlib" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="visualizaci√≥n-de-datos-en-python-con-seaborn-y-matplotlib"><span class="header-section-number">6.7</span> Visualizaci√≥n de Datos en <code>Python</code> con Seaborn y Matplotlib</h2>
<p>En <code>Python</code>, las librer√≠as <code>Matplotlib</code> y <code>Seaborn</code> son las herramientas est√°ndar para crear gr√°ficos.</p>
<ul>
<li><strong>Matplotlib.pyplot (alias <code>plt</code>):</strong> Es la base, una librer√≠a de bajo nivel que da un control muy granular sobre cada aspecto del gr√°fico.</li>
<li><strong>Seaborn (alias <code>sns</code>):</strong> Construye sobre Matplotlib, ofreciendo una interfaz de alto nivel para crear gr√°ficos estad√≠sticos complejos y est√©ticamente agradables con menos c√≥digo. Es ideal para explorar distribuciones, relaciones entre variables y comparaciones entre grupos.</li>
</ul>
<p>Siempre importamos ambas, ya que Seaborn a menudo usa funciones de Matplotlib para mostrar y personalizar los gr√°ficos (como <code>plt.title()</code> para el t√≠tulo o <code>plt.show()</code> para mostrar el gr√°fico).</p>
<p>El texto siguiente incluye el c√≥digo para crear el gr√°fico, no te preocupes si no lo entiendes a la primera, iremos explic√°ndolo l√≠nea a l√≠nea.</p>
<section id="creaci√≥n-del-histograma-en-python" class="level4">
<h4 class="anchored" data-anchor-id="creaci√≥n-del-histograma-en-python">Creaci√≥n del histograma en <code>Python</code></h4>
<p>Las funciones de histograma de <code>Python</code> permiten construir el histograma directamente sin necesidad de hacer previamente una tabla de frecuencias (en realidad, la tabla de frecuencias se calcula internamente). Es mucho m√°s sencillo utilizar estas funciones, ya que el c√≥digo se simplifica mucho.</p>
<p>Vemos que los dos gr√°ficos no son id√©nticos a pesar de provenir de los mismos datos, porque la construcci√≥n de los intervalos subyacente es ligeramente diferente. Esto no debe preocuparnos, porque el aspecto general de la distribuci√≥n de los datos es el mismo.</p>
<p>En la fase de exploraci√≥n nos importa m√°s entender estas propiedades de los datos (aspecto, forma de la distribuci√≥n) que la precisi√≥n en la construcci√≥n del gr√°fico. La funci√≥n b√°sica <code>.hist()</code>, por su parte, es m√°s sencilla de usar.</p>
<div id="cell-14" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>url_datos <span class="op">=</span> <span class="st">'https://raw.githubusercontent.com/juanriera/master-queseria/master/datos/camembert.csv'</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.read_csv(url_datos, decimal <span class="op">=</span> <span class="st">","</span>, sep<span class="op">=</span><span class="st">';'</span>, encoding<span class="op">=</span><span class="st">'ISO-8859-1'</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Error al cargar el archivo: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"est"</span>].hist() <span class="co"># histograma b√°sico de matplotlib</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co"># A√±adir t√≠tulo y etiquetas</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Distribuci√≥n del extracto seco total en una fabricaci√≥n anual de camembert"</span>)</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Extracto seco total (est)"</span>)</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Frecuencia"</span>)</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar el gr√°fico</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="030-exploracion_files/figure-html/cell-4-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Podemos utilizar tambi√©n las funciones de <code>seaborn</code> para el histograma:</p>
<div id="cell-16" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>sns.displot(df[<span class="st">"est"</span>], kde <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># A√±adir t√≠tulo y etiquetas</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Distribuci√≥n del extracto seco total en una fabricaci√≥n anual de camembert"</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Extracto seco total (est)"</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Frecuencia"</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar el gr√°fico</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="030-exploracion_files/figure-html/cell-5-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="otros-ejemplos" class="level3">
<h3 class="anchored" data-anchor-id="otros-ejemplos">Otros ejemplos</h3>
<p>En ocasiones, nos encontramos con datos que son asim√©tricos: hay una mayor√≠a de valores bajos o bien de valores altos. Veamos un caso: los recuentos bacterianos de bacterias coliformes, que tenemos en la √∫ltima columna a la derecha de nuestra tabla, en la variable ¬¥coliformes¬¥.</p>
<p><img src="01-imagenes/camembert-graf-colis.png" class="img-fluid"></p>
<p>En este caso, vemos que la mayor√≠a de los casos tienen valor cero. Es el caso de los recuentos de bacterias contaminantes, en el que la mayor√≠a de los an√°lisis tienen recuentos cero o muy bajos, y s√≥lo en pocos casos tienen valores altos. Veremos con m√°s detalle c√≥mo tratar estas distribuciones m√° adelante.</p>
</section>
</section>
<section id="diagrama-de-caja-o-boxplot" class="level2" data-number="6.8">
<h2 data-number="6.8" class="anchored" data-anchor-id="diagrama-de-caja-o-boxplot"><span class="header-section-number">6.8</span> Diagrama de caja o <em>boxplot</em></h2>
<p>Este gr√°fico fue creado por el estad√≠stico John Tukey en 1977, y es una herramienta fundamental en la exploraci√≥n de datos. Se basa en un grupo de medidas que se utiliza ampliamente en la descripci√≥n de conjuntos de datos, el conjunto de <strong>cuartiles</strong>. Si dividimos un grupo de datos <strong>ordenados</strong> en cuatro partes iguales, mediante <strong>tres</strong> puntos de corte, llamamos <strong>primer cuartil</strong> o <span class="math inline">\(Q1\)</span> al valor que se situa en el 25%; <strong>segundo cuartil</strong>, o <span class="math inline">\(Q2\)</span>, al valor que se sit√∫a en el centro (50%), y <strong>tercer cuartil</strong>, o <span class="math inline">\(Q3\)</span>, al punto que se situa en el 75% de los datos. A estos tres valores a√±adimos el <strong>m√≠nimo</strong> y el <strong>m√°ximo</strong>, y tenemos un conjunto de <strong>cinco n√∫meros</strong> que nos permiten describir la forma de la distribuci√≥n de datos con cierta precisi√≥n. El segundo cuartil (<span class="math inline">\(Q2\)</span>), que corresponde al 50% de los datos, se conoce habitualmente como <strong>mediana</strong>. El valor resultante de restar <span class="math inline">\(Q3-Q1\)</span> es lo que se conoce como <strong>rango intercuartil</strong> o <span class="math inline">\(IQR\)</span>, y es una medida de la dispersi√≥n de la distribuci√≥n de datos (mide la amplitud de la distribuci√≥n).</p>
<p>El <strong>diagrama de caja</strong>, tambi√©n conocido como <em>boxplot</em>, es un gr√°fico que permite resumir las caracter√≠sticas principales de un conjunto de datos utilizando estos cinco n√∫meros, tal como se explica a continuaci√≥n. Sus ventajas son:</p>
<ul>
<li>Muestra la mediana y los cuartiles (Q1 y Q3) de los datos.</li>
<li>Permite identificar la simetr√≠a de la distribuci√≥n: si la mediana no est√° en el centro, la distribuci√≥n no es sim√©trica.</li>
<li>Permite detectar posibles valores at√≠picos, representando los valores at√≠picos (<em>outliers</em>) que est√°n lejos del resto de los datos (un valor es at√≠pico si est√° m√°s all√° de (Q3 + 1.5 IQR) o (Q1 - 1.5 IQR).</li>
</ul>
<p>La construcci√≥n de un diagrama de caja es como sigue:</p>
<p><img src="01-imagenes/boxplot.svg" class="img-fluid"></p>
<p>Microsoft Excel no dispone de un dise√±o de gr√°ficos de caja que sea pr√°ctico, por lo que recurriremos siempre a <code>Python</code> para realizarlos.</p>
<section id="relaci√≥n-entre-el-boxplot-y-el-histograma" class="level3">
<h3 class="anchored" data-anchor-id="relaci√≥n-entre-el-boxplot-y-el-histograma">Relaci√≥n entre el <em>boxplot</em> y el histograma</h3>
<p>Resulta muy √∫til comprender visualmente la relaci√≥n entre el <em>boxplot</em> y el histograma para entender la distribuci√≥n de los datos. En la gr√°fica siguiente analizamos el extracto seco total de nuesta fabricacion usando ambos gr√°ficos simult√°neamente. La caja del <code>boxplot</code>se corresponde con el 50% central de los datos, y la l√≠neamedia nos representa la mediana, como hemos visto. Vemos tambi√©n que hemos utilizado una opci√≥n de formato para destacar las observaciones que se separan de forma anormal del conjunto de datos (valores at√≠picos o <em>outliers</em>)</p>
<div id="cell-21" class="cell" data-execution_count="6">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="030-exploracion_files/figure-html/cell-7-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="gr√°ficos-de-densidad" class="level2" data-number="6.9">
<h2 data-number="6.9" class="anchored" data-anchor-id="gr√°ficos-de-densidad"><span class="header-section-number">6.9</span> Gr√°ficos de densidad</h2>
<p>Un gr√°fico de densidad es una representaci√≥n visual suavizada de la distribuci√≥n de un conjunto de datos. A diferencia de los histogramas, que dividen los datos en intervalos y cuentan las frecuencias, los gr√°ficos de densidad utilizan t√©cnicas estad√≠sticas no param√©tricas para estimar la funci√≥n de densidad de probabilidad.</p>
<p>Excel no permite la representaci√≥n de los gr√°ficos de densidad; en <code>Python</code>lo hemos hecho arriba hacerlo con <code>seaborn</code>, a√±adiendo la funcion de densidad a un histograma a√±adiendo la opci√≥n <code>kde = True</code>.</p>
<p>Los gr√°ficos de densidad son especialmente √∫tiles cuando estamos comparando diferentes grupos de datos entre s√≠, por ejemplo en este caso comparamos el extracto seco total de nuestra fabricaci√≥n de camembert trimestre a trimestre:</p>
<div id="cell-23" class="cell" data-execution_count="7">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="030-exploracion_files/figure-html/cell-8-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>La curva de densidad nos permite visualizar la desviaci√≥n que se produce por el verano (T3); son los valores que el <em>boxplot</em> nos ha mostrado como <em>outliers</em>.</p>
<section id="una-alternativa-al-boxplot-el-violin-plot" class="level3">
<h3 class="anchored" data-anchor-id="una-alternativa-al-boxplot-el-violin-plot">Una alternativa al <em>boxplot</em>: el <em>violin plot</em></h3>
<p>El <em>violin plot</em> es una alternativa reciente al <em>boxplot</em>, tiene la ventaja de que muestra la <em>densidad</em> de la distribuci√≥n superpuesta al <em>boxplot</em>, lo que permite visualizar con m√°s claridad la distribuci√≥n de los datos:</p>
<div id="cell-27" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>sns.violinplot(y<span class="op">=</span><span class="st">'est'</span>, data<span class="op">=</span>df)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="030-exploracion_files/figure-html/cell-9-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>El <em>violin plot</em>, como el <em>boxplot</em>, se usan muy a menudo para comparar distribuciones de datos. Puedes comparar el gr√°fico de densidades por trimestres que hemos hecho antes con este <em>violin plot</em> m√∫ltiple por trimestres.</p>
<div id="cell-29" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>sns.violinplot(x<span class="op">=</span> <span class="st">'trimestre'</span>, y<span class="op">=</span><span class="st">'est'</span>, data<span class="op">=</span>df, alpha<span class="op">=</span><span class="fl">0.4</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="030-exploracion_files/figure-html/cell-10-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="gr√°ficos-de-dispersi√≥n" class="level2" data-number="6.10">
<h2 data-number="6.10" class="anchored" data-anchor-id="gr√°ficos-de-dispersi√≥n"><span class="header-section-number">6.10</span> Gr√°ficos de dispersi√≥n</h2>
<p>Un gr√°fico de dispersi√≥n, tambi√©n conocido como diagrama de dispersi√≥n o <em>scatter plot</em>, es una representaci√≥n gr√°fica que utiliza puntos para mostrar la relaci√≥n entre dos variables num√©ricas. Cada punto en el gr√°fico representa una observaci√≥n del conjunto de datos y se coloca en el plano cartesiano de acuerdo con sus valores en las dos variables que se est√°n comparando.</p>
<p>Un gr√°fico de dispersi√≥n se compone mediante puntos:</p>
<ul>
<li>Cada punto en el gr√°fico representa una observaci√≥n.</li>
<li>La posici√≥n del punto en el gr√°fico est√° determinada por los valores de las dos variables para esa observaci√≥n.</li>
</ul>
<p>Los gr√°ficos de dispersi√≥n son √∫tiles para identificar varios aspectos de la relaci√≥n entre las dos variables:</p>
<ul>
<li>Si los puntos tienden a agruparse a lo largo de una l√≠nea recta ascendente, esto indica una correlaci√≥n positiva (a medida que una variable aumenta, la otra tambi√©n lo hace).</li>
<li>Si los puntos se agrupan a lo largo de una l√≠nea descendente, esto indica una correlaci√≥n negativa (a medida que una variable aumenta, la otra disminuye).</li>
<li>Si los puntos forman una curva en lugar de una l√≠nea recta, esto sugiere una relaci√≥n no lineal entre las variables.</li>
<li>La dispersi√≥n de los puntos puede indicar la variabilidad de los datos. Puntos que est√°n muy lejos del patr√≥n general pueden ser valores at√≠picos.</li>
</ul>
<p>Representamos las variables <code>est</code>y <code>mg</code> de nuestros datos de la fabricaci√≥n de camembert.</p>
<div id="fig-grafdisp" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-grafdisp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-grafdisp" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-tabladisp" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-tabladisp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="01-imagenes/camembert-tabla-dispersion-est-mg.png" class="img-fluid figure-img" data-ref-parent="fig-grafdisp">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-tabladisp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Tabla de origen mostrando una parte de los datos seleccionados
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/camembert-dispersion-est-mg.png" class="img-fluid figure-img"></p>
<figcaption>Gr√°fico de dispersi√≥n</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-grafdisp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.1: Gr√°fico de dispersi√≥n en Excel
</figcaption>
</figure>
</div>
<p>Lo esperable en nuestros datos es que el valor de <code>est</code> y el de <code>mg</code> est√©n asociados, y a valores altos de la primera variable correspondan valores altos de la segunda (para el mismo producto y sin cambios de tecnolog√≠a). Sin embargo, algunos valores parecen no encajar en este modelo; es el caso de un valor de <code>est</code>por encima de 52% con un valor de <code>mg</code>inferior a 23%, o el caso de un valor de <code>mg</code> en torno al 28% con un valor de <code>est</code> por debajo de 47%. Debemos revisar estos valores aparentemente anormales para verificar si ha habido un error en la toma de muestras o un error anal√≠tico. En f√°bricas con productos diferentes cuyos resultados anal√≠ticos se recogen en una tabla de datos com√∫n, a veces puede haber errores en la introducci√≥n de los c√≥digos de producto, de forma que la toma de muestras y los an√°lisis pueden ser correctos, pero estar mal asignados al guardar los datos.</p>
<p><code>Python</code> nos permite separar el diagrama de dispersi√≥n en funci√≥n de una tercera variable, en este caso, usremos el trimestre para ver lo que ha sucedido por el verano.</p>
<div id="cell-32" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear un diagrama de dispersi√≥n de sepal_length vs. sepal_width</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">9</span>, <span class="dv">6</span>))</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>df, x<span class="op">=</span><span class="st">'est'</span>, y<span class="op">=</span><span class="st">'mg'</span>, hue<span class="op">=</span><span class="st">'trimestre'</span>, s<span class="op">=</span><span class="dv">80</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Relaci√≥n entre el EST y la MG en una fabricaci√≥n anual de camembert'</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'EST (%)'</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'MG (%)'</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">'Trimestre'</span>) <span class="co"># Mostrar leyenda para la especie</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="030-exploracion_files/figure-html/cell-11-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Como vemos, los gr√°ficos de dispersi√≥n son una herramienta esencial en el an√°lisis exploratorio de datos, ya que permiten visualizar relaciones y patrones en los datos, identificar correlaciones y detectar posibles anomal√≠as. Esta informaci√≥n es crucial para realizar an√°lisis estad√≠sticos m√°s profundos y tomar decisiones basadas en datos.</p>
</section>
<section id="gr√°ficos-de-series-temporales" class="level2" data-number="6.11">
<h2 data-number="6.11" class="anchored" data-anchor-id="gr√°ficos-de-series-temporales"><span class="header-section-number">6.11</span> Gr√°ficos de series temporales</h2>
<p>Hasta ahora hemos utilizado gr√°ficos y tablas que describen la estructura y forma de una variable, o las relaciones entre dos variables. Hay otros gr√°ficos que tienen en cuenta la forma en la que esos datos cambian con el tiempo. En este caso, ser√° necesario que hayamos recogido en una variable de nuestra tabla los intervalos de tiempo en los que se han producido nuestros valores.</p>
</section>
<section id="algunos-ejemplos" class="level2" data-number="6.12">
<h2 data-number="6.12" class="anchored" data-anchor-id="algunos-ejemplos"><span class="header-section-number">6.12</span> Algunos ejemplos</h2>
<ul>
<li><p>proceso de llenado de envases de queso crema: se llena una tarrina cada 15 segundos. Nuestros datos deben recoger el tiempo y el peso.</p></li>
<li><p>nuestro fichero de fabricaci√≥n de queso camembert recoge los valores anal√≠ticos medios diarios del producto fabricado.</p></li>
<li><p>Una f√°brica recoge leche diariamente y analiza cada d√≠a la composici√≥n de la leche que entra en la f√°brica.</p></li>
</ul>
<p>En un gr√°fico de series temporales,</p>
<ul>
<li>el eje horizontal (X) representa el tiempo. Los puntos de tiempo pueden ser minutos, horas, d√≠as, meses, a√±os, etc.</li>
<li>el eje vertical (Y) representa los valores de la variable que se est√° estudiando. Estos valores pueden ser medidas como temperatura, ventas, precios, etc.</li>
<li>cada valor individual corresponde a un punto</li>
<li>los valores se conectan mediante una l√≠nea que conecta los puntos de datos, mostrando c√≥mo cambian los valores de la variable a lo largo del tiempo.</li>
<li>normalmente, en un gr√°fico de series temporales no suelen representarse los puntos individuales para facilitar la legibilidad del gr√°fico.</li>
</ul>
<p>En nuestro conjunto de datos de fabricaci√≥n de queso camembert, la primera columna de la tabla recoge la variable <code>fecha</code>, lo que nos permite ordenar nuestros valores en el tiempo.</p>
<p>Cuando representamos valores en el tiempo, nunca usaremos el diagrama de barras, sino el gr√°fico de l√≠neas.</p>
<section id="c√≥mo-hacer-los-gr√°ficos-de-series-temporales-en-excel" class="level3">
<h3 class="anchored" data-anchor-id="c√≥mo-hacer-los-gr√°ficos-de-series-temporales-en-excel">C√≥mo hacer los gr√°ficos de series temporales en Excel</h3>
<p>Para hacer el gr√°fico en Excel, seleccionamos la columna <code>est</code>e insertamos un gr√°fico de l√≠neas. A continuaci√≥n, con el cursor sobre el gr√°fico, pulsamos el boton derecho y seleccionamos la opci√≥n <code>Seleccionar datos</code>. Una vez abierto el cuadro de opciones, editamos las etiquetas del eje X y seleccionamos el rango de la variable <code>fecha</code> desde la fila 2 hasta la √∫ltima.Aceptamos, y a continuaci√≥n editamos el formato del eje Y para sustituir el valor m√≠nimo de <span class="math inline">\(0\)</span> por <span class="math inline">\(42\)</span>, que es el valor que queremos como m√≠nimo para nuestro gr√°fico.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/camembert-excel-graf-series.png" class="img-fluid figure-img"></p>
<figcaption>Tabla y gr√°fico de series</figcaption>
</figure>
</div>
</section>
<section id="gr√°ficos-de-series-temporales-en-python-utilizando-pandas" class="level3">
<h3 class="anchored" data-anchor-id="gr√°ficos-de-series-temporales-en-python-utilizando-pandas">Gr√°ficos de series temporales en <code>Python</code> utilizando <code>pandas</code></h3>
<p>En los procesos industriales, el manejo de datos que cambian con el tiempo (<strong>series temporales</strong>) es fundamental. Hablamos de registrar <strong>temperaturas</strong> en un proceso de cocci√≥n, el <strong>pH</strong> de una fermentaci√≥n a lo largo de las horas o d√≠as, o la <strong>evoluci√≥n de inventarios</strong> de productos perecederos.</p>
<p>Para abordar este an√°lisis de manera <strong>eficiente y sencilla</strong>, la biblioteca <code>pandas</code> de Python es la herramienta de referencia. Su principal estructura, el <strong><code>DataFrame</code></strong>, est√° especialmente dise√±ada para entender y manipular datos etiquetados con el tiempo. Esto nos ofrece una serie de ventajas clave:</p>
<ol type="1">
<li><strong>F√°cil Indexaci√≥n Temporal:</strong> Pandas permite que la fecha y hora sean el ‚Äú√≠ndice‚Äù principal de los datos. Esto simplifica enormemente el <strong>filtrado</strong> (ej. ‚Äúdame todos los datos del √∫ltimo turno‚Äù) y la <strong>selecci√≥n por rangos</strong> (ej. ‚Äúanaliza solo el periodo de 9:00 a 11:00‚Äù).</li>
<li><strong>Remuestreo (Resampling) Sencillo:</strong> Es habitual tener datos muy detallados (ej. una medici√≥n por minuto) y querer analizarlos a una escala mayor (ej. la media por hora). Pandas permite este cambio de frecuencia con una √∫nica funci√≥n, lo que es vital para suavizar el ‚Äúruido‚Äù y ver la <strong>tendencia real</strong> del proceso.</li>
<li><strong>Ventanas M√≥viles (<code>rolling</code>):</strong> Es la funci√≥n estrella para la industria. Permite calcular <strong>promedios m√≥viles</strong> o desviaciones est√°ndar sobre un periodo de tiempo definido (ej. el promedio de temperatura de los √∫ltimos 15 minutos, o cada 15 minutos). Esto es crucial para el <strong>control de calidad</strong> y la identificaci√≥n de anomal√≠as o desviaciones en tiempo real.</li>
</ol>
<p>En resumen, Pandas elimina las tareas de manipulaci√≥n de datos tediosas, permitiendo a los profesionales de la alimentaci√≥n centrarse en lo realmente importante: la <strong>interpretaci√≥n de los datos</strong> para optimizar procesos, garantizar la <strong>seguridad alimentaria</strong> y mejorar la eficiencia.</p>
<section id="construyendo-la-serie-temporal-con-pandas" class="level4">
<h4 class="anchored" data-anchor-id="construyendo-la-serie-temporal-con-pandas">Construyendo la serie temporal con <code>pandas</code></h4>
<p>Vamos a incluir de nuevo el c√≥digo de lectura de los datos completo, para mayor claridad. Adem√°s, vamos a incluir una opci√≥n en la funci√≥n de lectura del <code>csv</code> que formatea el campo <code>fecha</code> al formato que <code>pandas</code>puede reconocer.</p>
<div id="cell-39" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>url_datos <span class="op">=</span> <span class="st">'https://raw.githubusercontent.com/juanriera/master-queseria/master/datos/camembert.csv'</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.read_csv(url_datos, </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>      decimal <span class="op">=</span> <span class="st">","</span>, </span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>      sep<span class="op">=</span><span class="st">';'</span>, </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>      encoding<span class="op">=</span><span class="st">'ISO-8859-1'</span>)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Error al cargar el archivo: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 211 entries, 0 to 210
Data columns (total 7 columns):
 #   Column       Non-Null Count  Dtype  
---  ------       --------------  -----  
 0   fecha        211 non-null    object 
 1   fabricacion  211 non-null    int64  
 2   est          211 non-null    float64
 3   mg           211 non-null    float64
 4   ph           211 non-null    float64
 5   cloruros     211 non-null    float64
 6   coliformes   210 non-null    float64
dtypes: float64(5), int64(1), object(1)
memory usage: 11.7+ KB</code></pre>
</div>
</div>
<p>Como <code>fecha</code>se ha le√≠do como object, la convertimos en fecha</p>
<div id="cell-41" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'fecha'</span>] <span class="op">=</span> pd.to_datetime(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">'fecha'</span>], </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">format</span><span class="op">=</span><span class="st">'</span><span class="sc">%d</span><span class="st">/%m/%Y'</span>,  </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    errors<span class="op">=</span><span class="st">'coerce'</span> <span class="co"># Si hay una fecha inv√°lida, la convierte a 'NaT' (Not a Time) en lugar de fallar.</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Verificamos que el contenido del dataframe es correcto</p>
<div id="cell-43" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 211 entries, 0 to 210
Data columns (total 7 columns):
 #   Column       Non-Null Count  Dtype         
---  ------       --------------  -----         
 0   fecha        211 non-null    datetime64[ns]
 1   fabricacion  211 non-null    int64         
 2   est          211 non-null    float64       
 3   mg           211 non-null    float64       
 4   ph           211 non-null    float64       
 5   cloruros     211 non-null    float64       
 6   coliformes   210 non-null    float64       
dtypes: datetime64[ns](1), float64(5), int64(1)
memory usage: 11.7 KB</code></pre>
</div>
</div>
<p>Ahora <code>fecha</code>ya es <code>datetime64</code> y <code>pandas</code>lo reconoce como campo de fecha. Verificamos el dataframe:</p>
<div id="cell-45" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">fecha</th>
<th data-quarto-table-cell-role="th">fabricacion</th>
<th data-quarto-table-cell-role="th">est</th>
<th data-quarto-table-cell-role="th">mg</th>
<th data-quarto-table-cell-role="th">ph</th>
<th data-quarto-table-cell-role="th">cloruros</th>
<th data-quarto-table-cell-role="th">coliformes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2020-01-11</td>
<td>1</td>
<td>46.68</td>
<td>24.0</td>
<td>4.85</td>
<td>1.50</td>
<td>80.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2020-01-12</td>
<td>1</td>
<td>48.09</td>
<td>25.0</td>
<td>4.67</td>
<td>1.61</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2020-01-13</td>
<td>1</td>
<td>45.97</td>
<td>24.0</td>
<td>4.71</td>
<td>1.48</td>
<td>9200.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2020-01-14</td>
<td>1</td>
<td>46.24</td>
<td>23.5</td>
<td>4.78</td>
<td>1.69</td>
<td>20.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2020-01-15</td>
<td>1</td>
<td>45.81</td>
<td>23.0</td>
<td>4.77</td>
<td>1.56</td>
<td>150.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Para utilizar las funciones de series de <code>pandas</code> es necesario crear una columna <code>index</code>o <strong>√≠ndice</strong> y asignarla como <code>index</code> del dataframe; <code>pandas</code> utilizar√° el index para toda la gesti√≥n de las fechas de manera r√°pida y flexible.</p>
<div id="cell-47" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'fecha_index'</span>]<span class="op">=</span> pd.DatetimeIndex(df.fecha).normalize()</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>df.set_index(<span class="st">'fecha_index'</span>,inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>df.sort_index(inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La funci√≥n <code>.plot()</code> nos representa los valores de la columna en orden secuencial, y toma las fechas del <code>index</code> de forma utom√°tica, sin necesidad de explicitarlo:</p>
<div id="cell-49" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"est"</span>].plot()</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="030-exploracion_files/figure-html/cell-17-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Mediante las funciones de <code>pandas</code>, podemos reformatear las fechas remuestreando para hacer las medias semanales del extracto seco total. La funci√≥n <code>resample('W-MON')</code> formatea las fechas para que las semanas empiecen en lunes, como es el caso en Europa (en USA la semana empieza el domingo). Aprovechamos para mostrar una de las potencias de <code>Python</code>: podemos hacer que varios c√°lculos se hagan a continuacion de los otros, simplemente enlazando las funciones, hasta el <code>.plot()</code></p>
<div id="cell-51" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="fl">10.0</span>, <span class="fl">2.0</span>))</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"est"</span>].resample(<span class="st">'W-MON'</span>).mean().plot(title<span class="op">=</span><span class="st">"Media del extracto seco total semanal"</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="030-exploracion_files/figure-html/cell-18-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Veamos a continuaci√≥n otras formas de formatear la serie sobre la marcha, pero esta vez representando la <code>desviaci√≥n t√≠pica</code>en vez de la <code>media</code>.</p>
<div id="cell-53" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="fl">10.0</span>, <span class="fl">2.0</span>))</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"est"</span>].resample(<span class="st">'W-MON'</span>).std().plot(title<span class="op">=</span><span class="st">"Desviaci√≥n t√≠pica del extracto seco total semanal"</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="030-exploracion_files/figure-html/cell-19-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>O podemos representar un per√≠odo espec√≠fico de la serie indicando a <code>pandas</code> los l√≠mites inferior y superior de las fechas que queremos.</p>
<div id="cell-55" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="fl">10.0</span>, <span class="fl">2.0</span>))</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"est"</span>][<span class="st">"2020-05"</span>:<span class="st">"2020-08"</span>].resample(<span class="st">'W-MON'</span>).mean().plot(title<span class="op">=</span><span class="st">"Media del extracto seco total semanal"</span>)<span class="op">;</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="030-exploracion_files/figure-html/cell-20-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Por √∫ltimo, combinamos el gr√°fico de media y el de la desviaci√≥n t√≠pica semanal en un √∫nico gr√°fico. Queda para el trabajo en clase ir buscando la explicaci√≥n y comprensi√≥n de cada linea (sugerencia: copiar y pegar en Gemini el c√≥digo y solicitar explicaci√≥n detallada)</p>
<div id="cell-57" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 1. Preparaci√≥n de los datos (Calculando la Media y la Desviaci√≥n T√≠pica Semanal) ---</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>media_semanal <span class="op">=</span> df[<span class="st">"est"</span>].resample(<span class="st">'W-MON'</span>).mean()</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>dt_semanal <span class="op">=</span> df[<span class="st">"est"</span>].resample(<span class="st">'W-MON'</span>).std()</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 2. Creaci√≥n de los Subgr√°ficos (El paso clave) ---</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Creamos una figura (conjunto de gr√°ficos) con 2 filas y 1 columna.</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="co"># El par√°metro 'figsize=(10, 4)' controla el tama√±o: 10 de ancho y 4 de alto total (como un gr√°fico normal).</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 'sharex=True' asegura que ambos gr√°ficos compartan el mismo eje temporal.</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>fig, (ax1, ax2) <span class="op">=</span> plt.subplots(</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    nrows<span class="op">=</span><span class="dv">2</span>, </span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>    ncols<span class="op">=</span><span class="dv">1</span>, </span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">4</span>), </span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>    sharex<span class="op">=</span><span class="va">True</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 3. Graficar la Media (Gr√°fico Superior) ---</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>ax1.plot(media_semanal, label<span class="op">=</span><span class="st">"Media Semanal"</span>, color<span class="op">=</span><span class="st">'tab:blue'</span>)</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>ax1.set_title(<span class="st">"Media y Desviaci√≥n T√≠pica Semanal del Extracto Seco Total"</span>)</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>ax1.set_ylabel(<span class="st">"Media (est)"</span>)</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>ax1.grid(<span class="va">True</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.6</span>)</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>ax1.tick_params(labelbottom<span class="op">=</span><span class="va">False</span>) <span class="co"># Quita las etiquetas de fecha/hora del gr√°fico superior</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a><span class="co"># --- 4. Graficar la Desviaci√≥n T√≠pica (Gr√°fico Inferior) ---</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>ax2.plot(dt_semanal, label<span class="op">=</span><span class="st">"Desviaci√≥n T√≠pica Semanal"</span>, color<span class="op">=</span><span class="st">'tab:orange'</span>)</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>ax2.set_ylabel(<span class="st">"D. T√≠pica (est)"</span>)</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>ax2.grid(<span class="va">True</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.6</span>)</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajusta el espacio entre los gr√°ficos para que no se superpongan</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>fig.tight_layout() </span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="030-exploracion_files/figure-html/cell-21-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="resumen-1" class="level3">
<h3 class="anchored" data-anchor-id="resumen-1">Resumen</h3>
<p>Los gr√°ficos de series temporales son √∫tiles para:</p>
<ol type="1">
<li><strong>Identificar Tendencias</strong>:
<ul>
<li>Una tendencia es una direcci√≥n general en la que los datos se mueven a lo largo del tiempo. Puede ser creciente, decreciente o constante.</li>
</ul></li>
<li><strong>Detecci√≥n de Estacionalidad</strong>:
<ul>
<li>La estacionalidad se refiere a patrones que se repiten en intervalos regulares de tiempo, como las ventas de productos estacionales.</li>
</ul></li>
<li><strong>Identificar Ciclos</strong>:
<ul>
<li>Los ciclos son fluctuaciones que ocurren en intervalos no regulares y pueden deberse a factores econ√≥micos o de otra √≠ndole.</li>
</ul></li>
<li><strong>Detecci√≥n de Anomal√≠as</strong>:
<ul>
<li>Los picos y ca√≠das repentinas pueden indicar eventos inusuales o errores en los datos.</li>
</ul></li>
</ol>
<p>Los gr√°ficos de series temporales son cruciales en diversas √°reas:</p>
<ol type="1">
<li><strong>Econom√≠a y Finanzas</strong>:
<ul>
<li>Seguimiento de precios de acciones, tasas de inter√©s y otros indicadores econ√≥micos.</li>
</ul></li>
<li><strong>Ciencia y Tecnolog√≠a</strong>:
<ul>
<li>Monitoreo de variables ambientales, datos meteorol√≥gicos y medidas cient√≠ficas.</li>
</ul></li>
<li><strong>Negocios</strong>:
<ul>
<li>An√°lisis de ventas, demanda de productos y desempe√±o empresarial a lo largo del tiempo.</li>
</ul></li>
</ol>
<p>Los gr√°ficos de series temporales proporcionan una visi√≥n clara y concisa de c√≥mo cambian los datos a lo largo del tiempo. Esta visualizaci√≥n es fundamental para el an√°lisis predictivo, la toma de decisiones y la identificaci√≥n de patrones y anomal√≠as en los datos.</p>
</section>
<section id="algunas-sugerencias-para-la-creaci√≥n-de-gr√°ficos" class="level3">
<h3 class="anchored" data-anchor-id="algunas-sugerencias-para-la-creaci√≥n-de-gr√°ficos">Algunas sugerencias para la creaci√≥n de gr√°ficos</h3>
<p>https://tidyplots.org/</p>
<p><img src="01-imagenes/1740294003188.jpg" class="img-fluid"> <img src="01-imagenes/1740121283445.jpg" class="img-fluid"></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./020-intro-python.html" class="pagination-link" aria-label="Introducci√≥n a Python en el entorno Google Colab">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Introducci√≥n a Python en el entorno Google Colab</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./035-estad-simple.html" class="pagination-link" aria-label="Medidas centrales y medidas de dispersi√≥n: la media y la varianza.">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Medidas centrales y medidas de dispersi√≥n: la media y la varianza.</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>