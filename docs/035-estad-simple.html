<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>7&nbsp; Medidas centrales y medidas de dispersión: la media y la varianza. – Análisis de datos industriales usando Excel y Python</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./040-caso1-camembert.html" rel="next">
<link href="./030-exploracion.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-364982630eef5352dd1537128a8ed5cb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating slimcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./035-estad-simple.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Medidas centrales y medidas de dispersión: la media y la varianza.</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Buscar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Análisis de datos industriales usando Excel y Python</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introducción general</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./001-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">La estadística en el entorno industrial.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./005-herramientas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Herramientas para el análisis. La reproducibilidad.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./010-organizacion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">La organización de los datos y el flujo de trabajo.Los datos ordenados o <em>arreglados</em> (<em>tidy data</em>)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./020-intro-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Introducción a Python en el entorno Google Colab</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./030-exploracion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">La exploración de los datos mediante gráficos.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./035-estad-simple.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Medidas centrales y medidas de dispersión: la media y la varianza.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./040-caso1-camembert.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Caso 1. Análisis de una fabricación de queso camembert usando <code>Python</code> y Google Colab.</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./999-indice_dataframes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Indice de DataFrames utilizados</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Anexos</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./150-media-centro-gravedad.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">La media aritmética como centro de gravedad de un grupo de datos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./160-bibliografia.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bibliografía</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#introducción" id="toc-introducción" class="nav-link active" data-scroll-target="#introducción"><span class="header-section-number">7.1</span> Introducción</a></li>
  <li><a href="#recursos-utilizados" id="toc-recursos-utilizados" class="nav-link" data-scroll-target="#recursos-utilizados"><span class="header-section-number">7.2</span> Recursos utilizados</a></li>
  <li><a href="#la-media-aritmética-un-ejemplo-de-cálculo." id="toc-la-media-aritmética-un-ejemplo-de-cálculo." class="nav-link" data-scroll-target="#la-media-aritmética-un-ejemplo-de-cálculo."><span class="header-section-number">7.3</span> La media aritmética: un ejemplo de cálculo.</a>
  <ul class="collapse">
  <li><a href="#definición" id="toc-definición" class="nav-link" data-scroll-target="#definición">Definición</a></li>
  <li><a href="#deducción-de-la-fórmula" id="toc-deducción-de-la-fórmula" class="nav-link" data-scroll-target="#deducción-de-la-fórmula">Deducción de la Fórmula:</a></li>
  <li><a href="#ejemplo" id="toc-ejemplo" class="nav-link" data-scroll-target="#ejemplo">Ejemplo:</a></li>
  </ul></li>
  <li><a href="#las-medidas-de-dispersión-la-varianza-y-la-desviación-típica" id="toc-las-medidas-de-dispersión-la-varianza-y-la-desviación-típica" class="nav-link" data-scroll-target="#las-medidas-de-dispersión-la-varianza-y-la-desviación-típica"><span class="header-section-number">7.4</span> Las medidas de dispersión: la varianza y la desviación típica</a></li>
  <li><a href="#las-limitaciones-de-la-media-y-la-desviación-típica" id="toc-las-limitaciones-de-la-media-y-la-desviación-típica" class="nav-link" data-scroll-target="#las-limitaciones-de-la-media-y-la-desviación-típica"><span class="header-section-number">7.5</span> Las limitaciones de la media y la desviación típica</a>
  <ul class="collapse">
  <li><a href="#ventajas-e-inconvenientes-de-las-medidas-paramétricas" id="toc-ventajas-e-inconvenientes-de-las-medidas-paramétricas" class="nav-link" data-scroll-target="#ventajas-e-inconvenientes-de-las-medidas-paramétricas">Ventajas e inconvenientes de las medidas paramétricas</a></li>
  <li><a href="#ventajas-e-inconvenientes-de-las-medidas-no-paramétricas" id="toc-ventajas-e-inconvenientes-de-las-medidas-no-paramétricas" class="nav-link" data-scroll-target="#ventajas-e-inconvenientes-de-las-medidas-no-paramétricas">Ventajas e inconvenientes de las medidas no paramétricas</a></li>
  </ul></li>
  <li><a href="#resumen" id="toc-resumen" class="nav-link" data-scroll-target="#resumen"><span class="header-section-number">7.6</span> Resumen</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Medidas centrales y medidas de dispersión: la media y la varianza.</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introducción" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="introducción"><span class="header-section-number">7.1</span> Introducción</h2>
<p>Al estudiar el diagrama de caja (<em>boxplot</em>) hemos visto que este gráfico se describe mediante los <strong>cinco números</strong>, que son:</p>
<ul>
<li>mínimo y máximo,<br>
</li>
<li>primer y tercer cuartil (25% y 75%), y</li>
<li>segundo cuartil (50%).</li>
</ul>
<p>De estos valores, el segundo cuartil, que se corresponde con la mitad de los valores, representa una estimación del centro de la distribución, y por eso lo llamamos <strong>mediana</strong>. La distancia entre el primer y tercer cuartil es lo que se conoce como <strong>rango intercuartil</strong> (se suele representar por sus siglas en inglés, <strong>IQR</strong>), y nos da una indicación de la <strong>dispersión</strong>: cuanto mayor mayor es la dispersión de nuestros valores, más alejados estarán del centro, y por lo tanto habrá mayor distancia entre el primer y el tercer cuartil.</p>
<p>Una de las mayores ventajas de la mediana y del rango intercuartil es que son estadísticos robustos, es decir, tiene una alta robustez a los valores atípicos. Como en el cálculo del rango intercuartil no se tienen en cuenta los valores extremos, su valor variará muy poco si aparecen nuevas observaciones atípicas (outliers). Como sus valores no dependen de la distribución de los datos, a estos estadísticos se los conoce como <strong>no paramétricos</strong>.</p>
<p>Existen otras estadísticos, llamados <strong>paramétricos</strong>, que, en determinadas condiciones, tienen ventajas frente a los no paramétricos. Los principales son la <strong>media aritmética</strong>, o simplemente, <strong>media</strong>, y la <strong>varianza</strong>.</p>
</section>
<section id="recursos-utilizados" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="recursos-utilizados"><span class="header-section-number">7.2</span> Recursos utilizados</h2>
<p>En este ejercicio usaremos diversos datos y gráficas realizados en Excel. Para facilitar el análisis, puede descargarse esta hoja Excel, con muchas tablas y gráficos, en el enlace a continuación.</p>
<p><a href="https://raw.githubusercontent.com/juanriera/master-queseria/master/datos/dibujos_varianza.xlsx">Descargar hoja Excel</a></p>
</section>
<section id="la-media-aritmética-un-ejemplo-de-cálculo." class="level2 page-columns page-full" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="la-media-aritmética-un-ejemplo-de-cálculo."><span class="header-section-number">7.3</span> La media aritmética: un ejemplo de cálculo.</h2>
<section id="definición" class="level3">
<h3 class="anchored" data-anchor-id="definición">Definición</h3>
<p>La media aritmética de un conjunto de valores es el valor central que se obtiene al dividir la suma de todos los valores por la cantidad de valores. Es una medida de tendencia central que proporciona un punto de referencia para el conjunto de datos.</p>
</section>
<section id="deducción-de-la-fórmula" class="level3">
<h3 class="anchored" data-anchor-id="deducción-de-la-fórmula">Deducción de la Fórmula:</h3>
<p>Supongamos que tenemos un conjunto de <span class="math inline">\(n\)</span> valores numéricos: <span class="math inline">\(x_1, x_2, x_3, \ldots, x_n\)</span>.</p>
<ol type="1">
<li><p><strong>Suma de Todos los Valores</strong>: Primero, sumamos todos los valores del conjunto. Matemáticamente, esto se expresa como:</p>
<p><span class="math display">\[
S = x_1 + x_2 + x_3 + \cdots + x_n
\]</span></p></li>
<li><p><strong>Cantidad de Valores</strong>: Luego, contamos cuántos valores hay en el conjunto. Este número es <span class="math inline">\(n\)</span>.</p></li>
<li><p><strong>División de la Suma por la Cantidad de Valores</strong>: Finalmente, dividimos la suma total <span class="math inline">\(S\)</span> por la cantidad de valores <span class="math inline">\(n\)</span> para obtener la media aritmética:</p>
<p><span class="math display">\[
\text{Media Aritmética} = \frac{S}{n}
\]</span></p></li>
<li><p><strong>Expresión General</strong>: Sustituyendo la suma <span class="math inline">\(S\)</span> en la fórmula, tenemos:</p>
<p><span class="math display">\[
\text{Media Aritmética} = \frac{x_1 + x_2 + x_3 + \cdots + x_n}{n}
\]</span></p></li>
</ol>
</section>
<section id="ejemplo" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="ejemplo">Ejemplo:</h3>
<p>Supongamos que tenemos los siguientes valores: <span class="math inline">\(5, 7, 9\)</span>.</p>
<ol type="1">
<li><p><strong>Suma de los Valores</strong>: <span class="math display">\[
S = 5 + 7 + 9 = 21
\]</span></p></li>
<li><p><strong>Cantidad de Valores</strong>: <span class="math display">\[
n = 3
\]</span></p></li>
<li><p><strong>Cálculo de la Media Aritmética</strong>: <span class="math display">\[
\text{Media Aritmética} = \frac{21}{3} = 7
\]</span></p></li>
</ol>
<p>Entonces, la media aritmética de los valores <span class="math inline">\(5, 7, 9\)</span> es <span class="math inline">\(7\)</span>.</p>
<p>La media de una muestra se representa habitualmente mediante el símbolo</p>
<p><span class="math display">\[\bar{x}\]</span> y, de una manera más formal, su valor se obtiene mediante la fórmula siguiente:</p>
<p><span class="math display">\[{\bar{x}={\frac {1}{n}}\sum _{i=1}^{n}x_{i}}\]</span> El signo <span class="math inline">\(\sum\)</span> se conoce como <em>sumatorio</em>, e indica que ese término consiste en la suma de los <span class="math inline">\(x\)</span> valores desde el primero hasta el valor <span class="math inline">\(n\)</span>. Expresado mediante una formulación matemática,</p>
<p><span class="math display">\[{\bar{x}={\frac {1}{n}}\sum _{i=1}^{n}x_{i}={\frac {x_{1}+x_{2}+\cdots +x_{n}}{n}}}\]</span> lo quiere quiere decir: <em>“la suma de todos los valores observados dividido entre el número de estos valores”</em>.</p>
<p>La <strong>media</strong> es lo que conocemos como un <em>valor central</em>, ya que representa el centro de nuestro conjunto de números. Como es el centro de nuestro conjunto de datos, la suma de las distancias de todos los valores a este valor central es <span class="math inline">\(cero\)</span>. Más adelante veremos la importancia de este hecho, al hablar de la dispersión y las formas de cálculo de la misma. Como hemos visto, la media de una <strong>muestra</strong> se representa como <span class="math inline">\(\bar{x}\)</span>, mientras que la media de una <strong>población</strong> se representa con la letra griega <em>mu</em>: <span class="math inline">\(\mu\)</span>. En ambos casos, el cálculo se realiza de forma idéntica.</p>
<p>Volvamos a nuestro ejemplo de la altura de un grupo de alumnos, para realizar los cálculos según el modelo que hemos descrito. En nuestro caso, la <em>altura media</em> de nuestros alumnos (la <em>media</em> de nuestro conjunto de números) se calcula como:</p>
<p><span class="math display">\[
\bar{x} = \frac{153+135+140+140+175+138+145+154+152+159+154}{11} = 149,54
\]</span> Utilicemos una hoja de cálculo para guardar nuestros valores.</p>
<p><img src="01-imagenes/aula1.png" class="img-fluid"></p>
<p>La fórmula para obtener la media en la hoja de cálculo, por ejemplo en la versión en español de <em>Microsoft Excel</em>, es <code>=PROMEDIO(...)</code>, donde los puntos suspensivos deben sustituirse por el rango a calcular. En nuestro ejemplo, introduciríamos la fórmula en la celda <code>B13</code>como <code>=PROMEDIO(B2..B12)</code> (Para más detalles, verificar la hoja Excel adjunta).</p>
<p>Para representar más cómodamente nuestros valores, dibujamos un punto a la altura de cada alumno,</p>
<p><img src="01-imagenes/aula1_puntos-1.png" class="img-fluid"></p>
<p>y eliminamos del gráfico los dibujos de nuestros alumnos; así hemos convertido nuestro dibujo en un <em>diagrama de puntos</em>:</p>
<p><img src="01-imagenes/aula1_puntos.png" class="img-fluid"></p>
<p>Para representar la media, aunque la media es un valor único, necesitamos añadir una columna a la derecha de nuestros datos, que rotulamos en la fila 1, celda C como <code>altura media</code>, e introducimos en cada una de las celdas desde <code>C2</code>hasta <code>C12</code>la fórmula del promedio, con el valor de nuestro rango de datos (Verificar hoja de cálculo). A continuación, designamos nuestro rango de datos para hacer un gráfico de puntos, y hacemos un <em>zoom</em> en los valores de manera que el eje Y se escale mejor entre los valores mínimo y máximo. Por último, hacemos unos ajustes en el formato para dibujar las líneas verticales que nos representan la distancia de cada valor a la media.</p>
<p><img src="01-imagenes/image-20221115203450170.png" class="img-fluid"></p>
<p>Si verificamos el eje <span class="math inline">\(Y\)</span> , veremos que en este gráfico hemos ajustado la escala respecto al gráfico anterior, situando el mínimo en <span class="math inline">\(130\)</span>. Esto permite visualizar las diferencias con mucha más claridad. Hemos representado la media <span class="math inline">\(\bar{x}\)</span> como una línea, y hemos dibujado unas líneas que unen cada valor individual con la media, que se sitúa en el valor <span class="math inline">\(149,55\)</span>, tal como calculamos más arriba.</p>
<p>Hemos representado la media como una serie de puntos unidos por una línea amarilla. Representamos en azul nuestros valores, uniendo cada valor con la línea media mediante una línea de puntos vertical. A partir de ahora, por conveniencia, eliminaremos los puntos en la linea media, dejando sólo la línea.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/image-20221115202048866.png" class="img-fluid figure-img"></p>
<figcaption>Hoja de cálculo con los valores y el gráfico de puntos</figcaption>
</figure>
</div>
<p>Esta línea azul de puntos representa la <em>distancia</em> de cada valor a la media. Usaremos esta distancia para calcular una <strong>distancia media</strong>, que será una medida de la dispersión de nuestros valores.</p>
<p>Hemos visto que para describir un conjunto de números, en nuestro ejemplo, las medidas de la altura de un grupo de estudiantes, existe un valor, la <em>media</em> de este conjunto, que nos describe el centro de los valores. En nuestro ejemplo, si nuestro grupo tuviese un solo niño, éste tendría <span class="math inline">\(149,55{\ }cm\)</span> de altura.</p>
<p>¿Es suficiente con este valor para describir el conjunto de valores? Vamos a ver que no: diferentes conjuntos de valores pueden proporcionar el mismo <em>valor medio</em>, y sin embargo los grupos pueden ser muy diferentes.</p>
<p>Veamos un caso extremo. Comparemos dos grupos, uno formado por individuos iguales y otro formado por diez individuos iguales y uno distinto. Para ello usaremos nuestra hoja de cálculo:</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/image-20221116105300331.png" class="img-fluid figure-img"></p>
<figcaption>Dos grupos de valores con la misma media</figcaption>
</figure>
</div></div><p>¿Podemos describir adecuadamente los valores de la altura de cada uno de los grupos utilizando el valor medio? Parece evidente que no, ya que a partir de diferentes valores de altura estamos obteniendo el mismo valor medio. Sin embargo, uno de los grupos <em>es más alto</em> que el otro, si no fuera por un sólo individuo que aparentemente distorsiona el cálculo. Podríamos incluir nuestro grupo original, y veremos que los tres grupos son diferentes, aunque su valor medio es idéntico.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/image-20221116110426263.png" class="img-fluid figure-img"></p>
<figcaption>Tres grupos de valores con la misma media</figcaption>
</figure>
</div></div><p>Si nos ayudamos de un gráfico equivalente al que hemos utilizado antes, vemos estas diferencias con claridad:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/image-20221116110925933.png" class="img-fluid figure-img"></p>
<figcaption>Gráfico de tres grupos de valores</figcaption>
</figure>
</div>
<p>Aunque el valor medio de estos tres grupos de datos es idéntico, parece claro que los tres grupos son muy distintos en su composición, y por lo tanto la <em>media</em> no es suficiente para describir con suficiente precisión cada uno de los grupos. Necesitamos un valor adicional, que nos indique de qué forma los valores se alejan del valor medio. Para ello, vamos a introducir un concepto nuevo: la <em>medida de la dispersión</em>.</p>
</section>
</section>
<section id="las-medidas-de-dispersión-la-varianza-y-la-desviación-típica" class="level2 page-columns page-full" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="las-medidas-de-dispersión-la-varianza-y-la-desviación-típica"><span class="header-section-number">7.4</span> Las medidas de dispersión: la varianza y la desviación típica</h2>
<p>Como hemos visto en el apartado anterior, diferentes conjuntos de datos pueden tener el mismo valor medio y sin embargo ser muy diferentes. En la última gráfica que hemos visto, el primer grupo se caracteriza por tener todos sus valores idénticos; el segundo tiene todos sus valores idénticos menos uno, que está muy apartado del resto, y el tercero tiene todos sus valores diferentes.</p>
<p>Ahora que conocemos cómo calcular un valor resumen de un conjunto de datos, podríamos utilizar una medida semejante para describir de qué forma en cada caso los valores se separan de la media. Podríamos utilizar una <em>distancia media</em>: calculamos las diferencias entre cada valor y la media, y hacemos su promedio: esto debería darnos una indicación de la magnitud de la separación de los valores en cada uno de los tres grupos.</p>
<p>Usemos la hoja de cálculo para ello:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/image-20221116113404185.png" class="img-fluid figure-img"></p>
<figcaption>Tres grupos de valores en la hoja de cálculo</figcaption>
</figure>
</div>
<p>Algo parece que no está funcionando aquí: el promedio de las diferencias es cero en los tres casos; no podemos usar este cálculo para calcular la dispersión. Pero esto es esperable: ya que la media es un valor central, como hemos visto antes, la suma de las diferencias de todos los valores respecto de su media debe ser forzosamente cero, y esto es lo que estamos obteniendo.</p>
<p>Para encontrar una solución, vamos a recurrir al viejo teorema de Pitágoras, que si recuerdas, nos dice que, en un triángulo rectángulo, el cuadrado de la hipotenusa es igual a la suma de los cuadrados de los catetos (una explicación gráfica muy divertida en el anexo …): <span class="math display">\[
h^2= a^2+b^2
\]</span> Esta fórmula es la base del cálculo de la distancia entre dos puntos:</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/image-20221116114659713.png" class="img-fluid figure-img"></p>
<figcaption>Distancia entre dos puntos</figcaption>
</figure>
</div></div><p><span class="math display">\[
d(A,B)=\sqrt{(x_2-x_1)^2+(y_2-y_1)^2}
\]</span> Podemos adaptar esta fórmula al cálculo de nuestra distancia media. Como estamos calculando la distancia en una dimensión, sólo necesitamos la coordenada <span class="math inline">\(X\)</span>. Si tenemos en cuenta un solo punto, esta distancia <span class="math inline">\(d\)</span> sería: <span class="math display">\[
(d{\ }del{\ }valor{\ }1{\ }a{\ }la{\ }media)^2=(x_1-\bar{x})^2
\]</span> ¡El hecho de elevar al cuadrado las diferencias nos da la solución! Las diferencias negativas ya no son un problema porque sabemos que al elevar un numero negativo al cuadrado, el resultado es positivo; de esta manera conseguimos que las diferencias no se anulen. Ahora sí podemos calcular una distancia media <span class="math inline">\(\bar{d}\)</span> entre el conjunto de puntos y su media, calculando el promedio de las diferencias elevadas al cuadrado: <span class="math display">\[
(\bar{d}{\ }de{\ }los{\ }n{\ }valores{\ }a{\ }la{\ }media)^2=\frac{(x_1-\bar{x})^2 + (x_2-\bar{x})^2+\cdots+(x_n-\bar{x})^2}{n}
\]</span></p>
<p>y utilizando la notación que hemos aprendido antes,</p>
<p><span class="math display">\[
(\bar{d}{\ }de{\ }los{\ }n{\ }valores{\ }a{\ }la{\ }media)^2={\frac {1}{n}}\sum _{i=1}^{n}(x_{i}-\bar{x})^2
\]</span></p>
<p>Al igual que en el cálculo de la distancia entre dos puntos, sólo tenemos que extraer la raíz cuadrada de este valor para obtener la distancia media, que es el parámetro que estábamos buscando.</p>
<p>La distancia media <span class="math display">\[(\bar{d}{\ }de{\ }los{\ }n{\ }valores{\ }a{\ }la{\ }media)^2\]</span> se conoce en estadística como <strong>varianza</strong>, y su raíz cuadrada es lo que se conoce como <strong>desviación típica</strong>. La varianza de una población se representa en estadística con el signo de la letra griega <em>sigma</em> minúscula elevada al cuadrado, <span class="math inline">\(\sigma^2\)</span>, y la desviación típica, mediante la letra <span class="math inline">\(\sigma\)</span>. En el caso de una muestra, la varianza se representa como <span class="math inline">\(s_x^2\)</span>, y la desviación típica, como <span class="math inline">\(s_x\)</span>.</p>
<p>Es importante resaltar que la desviación típica <em>es una medida de la distancia media de los valores de una población a su media</em>, y por lo tanto tiene dimensión, la misma que las medidas originales. La varianza, al estar elevada al cuadrado, no tiene una dimensión, o, mejor dicho, tiene la de la medida al cuadrado.</p>
<p>Con estos nuevos hallazgos, recalculamos nuestra hoja de cálculo:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/image-20221116123915941.png" class="img-fluid figure-img"></p>
<figcaption>Tres grupos de valores en la hoja de cálculo, con la misma media y distinta desviación típica</figcaption>
</figure>
</div>
<p>Vamos a analizar con detalle esta tabla.</p>
<p>En la columna <code>J</code> tenemos nuestra población original de 11 alumnos, con las alturas que hemos medido. En la columna <code>B</code> hemos supuesto que todos los alumnos fuesen iguales, con la misma altura del valor medio de los datos originales. En la columna <code>F</code> hemos simulado otro grupo, con todos los valores iguales excepto uno, y con la misma media que los otros dos grupos.</p>
<p>A la derecha de cada columna de medias, tenemos la columna de diferencias (columnas <code>D</code>, <code>H</code> y <code>L</code>), y en la fila <code>13</code>, nuestro primer intento de calcular una dispersión media; intento fallido, puesto que obteníamos el valor <span class="math inline">\(0\)</span> para los tres grupos.</p>
<p>En la siguiente columna a la derecha, para los tres grupos (columnas <code>E</code>, <code>I</code>y <code>M</code>), hemos elevado al cuadrado la distancia de cada valor a la media, siguiendo los hallazgos que nos ha proporcionado el teorema de Pitágoras y la fórmula de la distancia entre dos puntos. En la fila <code>13</code> de estas columnas, calculamos el promedio de la distancia a la media al cuadrado: esta vez el resultado ya no es cero, sino que obtenemos el valor de la <strong>varianza</strong>, de acuerdo con la fórmula que hemos deducido más arriba. En la fila <code>14</code> (columnas B, <code>F</code> y <code>J</code>)utilizamos la fórmula de la hoja de cálculo para la <strong>varianza poblacional</strong> (más detalles posteriormente), y vemos que coincide exactamente con el promedio de las diferencias al cuadrado, tal como debe ser, ya que en eso consiste la fórmula que hemos deducido.</p>
<p>Por último, en la fila <code>15</code>calculamos la desviación típica de ambas formas, con la fórmula de la hoja de cálculo para la <strong>desviación típica poblacional</strong> (columnas <code>B</code>, <code>F</code>y <code>J</code>), que Excel llama <strong>desviación estándar</strong>, y como la raíz cuadrada del promedio calculado antes (columnas <code>E</code>, <code>I</code>y <code>M</code>). De nuevo, ambos valores coinciden exactamente, como esperamos.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/image-20221116135458643.png" class="img-fluid figure-img"></p>
<figcaption>Gráfico con tres conjuntos de datos con la misma media y diferente desviación típica</figcaption>
</figure>
</div>
<p>Ahora sí tenemos una forma más completa de describir nuestro conjunto de valores. Aunque el valor medio es el mismo en los tres casos, la <em>dispersión</em> de los valores es muy distinta.</p>
<p>¿Son suficientes estos dos parámetros que hemos calculado para describir un conjunto de datos? La respuesta a esta pregunta es sí y no. La explicación es que, más allá de los valores numéricos que hemos obtenido, la visualización gráfica de los valores nos debe hacer reflexionar.</p>
<p>En el primer grupo, todos los valores son iguales a la media. La variación es cero. Son valores que hemos simulado en nuestra hoja de cálculo, pero difícilmente en el mundo real encontraremos una población en la que todos sus valores, en este caso, la altura de un grupo de alumnos, sean idénticos.</p>
<p>En el segundo grupo, todos los valores son idénticos, salvo uno, que se distancia mucho. ¿Debemos aceptar esto como bueno? En realidad, ¿es cierto que el valor medio de este grupo sea el mismo que el del primero? Para responder a esta pregunta debemos recurrir a nuestra experiencia, la estadística no nos da <em>fórmulas mágicas</em>. Pero, con un poco de sentido común, parece que el caso extremo que aparece en este grupo no es coherente con el resto de valores. Es lo que se llama un <em>valor anormal</em> o <em>extraño</em> (en inglés, <em>outlier</em>), y debe hacernos reflexionar sobre si el valor es correcto y realmente pertenece a esta población, o es un error de medida. O, simplemente, un valor que corresponde a otro grupo y que por error hemos situado en éste. La decisión de eliminar o no un valor anormal es una de las decisiones más complejas en estadística, que pueden tener una influencia enorme en la interpretación de los datos, y por lo tanto, hay que hacer con sumo cuidado. En este caso, extremo y artificial, el valor anormal debería ser eliminado, ya que, en realidad, todos los valores restantes son idénticos y más bajos que los del grupo 1. No tiene sentido lógico decir que sus medias son idénticas.</p>
<p>En el tercer grupo todos los valores son diferentes, y no podemos decir nada especial sobre sus valores individuales. Hay un valor que se destaca del resto, pero ¿podemos afirmar que es anormal? Seguramente, no con seguridad. De nuevo la experiencia debe indicarnos cómo proceder, aunque en este caso no tendría sentido eliminar este valor. En la situación real, todos conocemos a niños que han <em>pegado el estirón</em> antes que sus compañeros, y en algunos casos, pueden llegar a ser mucho más altos (o más bajos, si han tenido un retraso en este <em>estirón</em>) La experiencia nos dice que no es seguro que este valor sea realmente anormal, y por lo tanto, deberíamos conservarlo.</p>
</section>
<section id="las-limitaciones-de-la-media-y-la-desviación-típica" class="level2 page-columns page-full" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="las-limitaciones-de-la-media-y-la-desviación-típica"><span class="header-section-number">7.5</span> Las limitaciones de la media y la desviación típica</h2>
<p>En ocasiones nos enfrentamos a conjuntos de datos con valores de media y desviación típica idénticos o muy parecidos, pero que en realidad son muy diferentes. Veamos un ejemplo, semejante a los que hemos visto hasta ahora.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/image-20221116164339577.png" class="img-fluid figure-img"></p>
<figcaption>Hoja de cálculo con dos conjuntos de datos diferentes, con la misma media y desviación típica</figcaption>
</figure>
</div></div><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/media-balanza.svg" class="img-fluid figure-img"></p>
<figcaption>Diagrama de puntos de las alturas de los alumnos, con indicación del valor medio</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/plot_varianzas.png" class="img-fluid figure-img"></p>
<figcaption>Diagrama de puntos indicando la variabilidad</figcaption>
</figure>
</div>
<p>En este caso, vemos que tanto la media como la desviación típica son idénticos, y sin embargo los datos son muy diferentes, tal como nos muestra el gráfico de dispersión que hemos estado utilizando:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/image-20221116164430210.png" class="img-fluid figure-img"></p>
<figcaption>Gráfico con dos conjuntos de datos diferentes, con la misma media y desviación típica</figcaption>
</figure>
</div>
<p>La existencia de valores anormales o extremos muestra una de las debilidades de la media y la desviación típica como descriptores de un conjunto de datos: <strong>ambos son muy sensibles a los casos extremos</strong>.</p>
<p>Por eso, <strong>solo deberíamos usar la media y la desviación típica cuando estamos razonablemente seguros de que los datos tienen una forma aproximadamente simétrica y equilibrada</strong>, como la famosa <strong>campana de Gauss</strong> (distribución normal), que podemos relacionar con el boxplot, tal como vemos en el gráfico a continuación,</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01-imagenes/campana-de-gauss-boxplot.png" class="img-fluid figure-img"></p>
<figcaption>Campana de Gauss y boxplot mostrando las relaciones entre los elementos no paramétricos del boxplot y los elementos paramétricos de la distribución normal</figcaption>
</figure>
</div>
<p>En otros casos, especialmente cuando hay valores muy altos o muy bajos, <strong>la mediana y el rango intercuartílico</strong> (que ya vimos en el boxplot) son <strong>estadísticos más robustos</strong>, es decir, <strong>más resistentes a los extremos y más seguros para describir el conjunto de datos</strong>.</p>
<p>Esta diferencia entre estadísticos sensibles y robustos es clave para elegir bien qué medidas usar según el tipo de datos.</p>
<section id="ventajas-e-inconvenientes-de-las-medidas-paramétricas" class="level3">
<h3 class="anchored" data-anchor-id="ventajas-e-inconvenientes-de-las-medidas-paramétricas">Ventajas e inconvenientes de las medidas paramétricas</h3>
<section id="ventajas" class="level4">
<h4 class="anchored" data-anchor-id="ventajas">Ventajas</h4>
<ol type="1">
<li>Precisión y Sensibilidad: La media y la varianza son muy precisas y sensibles a todos los valores del conjunto de datos.</li>
<li>Propiedades Matemáticas: La media y la varianza tienen propiedades matemáticas deseables, como la facilidad para realizar operaciones algebraicas.</li>
<li>Distribución Normal: Son especialmente útiles si los datos siguen una distribución normal, ya que permiten aprovechar las propiedades de esta distribución.</li>
</ol>
</section>
<section id="inconvenientes" class="level4">
<h4 class="anchored" data-anchor-id="inconvenientes">Inconvenientes</h4>
<ol type="1">
<li>Sensibilidad a Valores Atípicos: La media y la varianza pueden ser distorsionadas significativamente por valores atípicos.</li>
<li>Requieren Suposiciones: Su uso eficaz a menudo requiere que los datos sigan ciertas suposiciones, como la normalidad y la homogeneidad de la varianza.</li>
</ol>
</section>
</section>
<section id="ventajas-e-inconvenientes-de-las-medidas-no-paramétricas" class="level3">
<h3 class="anchored" data-anchor-id="ventajas-e-inconvenientes-de-las-medidas-no-paramétricas">Ventajas e inconvenientes de las medidas no paramétricas</h3>
<section id="ventajas-1" class="level4">
<h4 class="anchored" data-anchor-id="ventajas-1">Ventajas</h4>
<ol type="1">
<li>Robustez: La mediana y el rango intercuartil son menos sensibles a valores atípicos y distribuciones asimétricas.</li>
<li>Flexibilidad: No requieren suposiciones fuertes sobre la distribución de los datos, lo que las hace útiles para una amplia variedad de distribuciones.</li>
<li>Resumir Datos: Son excelentes para resumir datos en situaciones en las que los valores extremos podrían distorsionar la interpretación.</li>
</ol>
</section>
<section id="inconvenientes-1" class="level4">
<h4 class="anchored" data-anchor-id="inconvenientes-1">Inconvenientes</h4>
<ol type="1">
<li>Menor Sensibilidad: La mediana y el rango intercuartil no utilizan toda la información de los datos y pueden ser menos sensibles a cambios en los datos.</li>
<li>Menor Precisión en Ciertos Contextos: En situaciones donde los datos siguen una distribución normal, las medidas no paramétricas pueden ser menos precisas.</li>
</ol>
<p>Las medidas paramétricas son útiles para datos que siguen suposiciones específicas, como la normalidad, y son precisas y sensibles, pero pueden ser distorsionadas por valores atípicos. Las medidas no paramétricas son robustas y flexibles, ideales para distribuciones no normales y resistentes a valores atípicos, aunque pueden perder sensibilidad y precisión en ciertos contextos.</p>
</section>
</section>
</section>
<section id="resumen" class="level2" data-number="7.6">
<h2 data-number="7.6" class="anchored" data-anchor-id="resumen"><span class="header-section-number">7.6</span> Resumen</h2>
<p>Las medidas paramétricas, como la media y la varianza, y las no paramétricas, como la mediana y el rango intercuartil, proporcionan información sobre el centro y la dispersión de la distribución de los datos, y tienen diferentes ventajas e inconvenientes según el contexto y los datos con los que se trabaja.</p>
<p>En el capítulo siguiente aplicaremos estos conceptos al análisis de un conjunto de datos de fabricación de queso. Veremos también algunas formas de detectar visualmente los valores extremos que pueden afectar a la media, usando histogramas y boxplots, sin necesidad de cálculos complicados.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copiado");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copiado");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./030-exploracion.html" class="pagination-link" aria-label="La exploración de los datos mediante gráficos.">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">La exploración de los datos mediante gráficos.</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./040-caso1-camembert.html" class="pagination-link" aria-label="Caso 1. Análisis de una fabricación de queso camembert usando `Python` y Google Colab.">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Caso 1. Análisis de una fabricación de queso camembert usando <code>Python</code> y Google Colab.</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>